{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { Button } from 'react-native-elements';\nimport ProfilPictureUplaod from \"../../components/ProfileImage/ProfilPictureUplaod\";\nimport { COLORS, SIZES } from \"../../constants\";\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { useSession } from \"../../hooks/useSession\";\nimport { supabase } from \"../../config/supabaseConfig\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Profile() {\n  var _useSession = useSession(),\n    session = _useSession.session;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    profile = _useState2[0],\n    setProfile = _useState2[1];\n  useEffect(function () {\n    var fetchProfile = function () {\n      var _ref = _asyncToGenerator(function* () {\n        try {\n          var _yield$supabase$from$ = yield supabase.from('profiles').select('username').eq('id', session.user.id).single(),\n            data = _yield$supabase$from$.data,\n            error = _yield$supabase$from$.error;\n          if (error) {\n            console.error('Error fetching profile:', error.message);\n            return;\n          }\n          setProfile(data);\n        } catch (error) {\n          console.error('Error fetching profile:', error.message);\n        }\n      });\n      return function fetchProfile() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    fetchProfile();\n  }, [session]);\n  if (!session || !session.user) {\n    console.warn('Session or user not available:', session);\n    return null;\n  }\n  var user = session.user;\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(LinearGradient, {\n      colors: [COLORS.heroColour, 'black'],\n      style: styles.background\n    }), _jsxs(View, {\n      style: styles.wrapper,\n      children: [_jsx(Text, {\n        style: styles.headline,\n        children: \" Profile \"\n      }), _jsx(ProfilPictureUplaod, {\n        dimension: 150\n      }), profile && _jsxs(Text, {\n        style: styles.usernameText,\n        children: [\"Username: \", profile.username]\n      }), _jsxs(Text, {\n        style: styles.emailText,\n        children: [\"Email: \", user.email]\n      }), _jsx(Button, {\n        title: \"Sign Out\",\n        onPress: function onPress() {\n          return supabase.auth.signOut();\n        },\n        buttonStyle: styles.signOutButton\n      })]\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center'\n  },\n  wrapper: {\n    width: '100%',\n    height: '100%',\n    alignItems: 'center',\n    paddingTop: 50\n  },\n  background: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    height: '100%'\n  },\n  headline: {\n    fontSize: SIZES.xLarge,\n    color: COLORS.fontColour\n  },\n  usernameText: {\n    fontSize: SIZES.medium,\n    color: COLORS.fontColour,\n    marginTop: 10,\n    marginBottom: 10\n  },\n  emailText: {\n    fontSize: SIZES.medium,\n    color: COLORS.fontColour,\n    marginBottom: 10\n  },\n  signOutButton: {}\n});","map":{"version":3,"names":["React","useEffect","useState","Text","StyleSheet","View","Button","ProfilPictureUplaod","COLORS","SIZES","LinearGradient","useSession","supabase","jsx","_jsx","jsxs","_jsxs","Profile","_useSession","session","_useState","_useState2","_slicedToArray","profile","setProfile","fetchProfile","_ref","_asyncToGenerator","_yield$supabase$from$","from","select","eq","user","id","single","data","error","console","message","apply","arguments","warn","style","styles","container","children","colors","heroColour","background","wrapper","headline","dimension","usernameText","username","emailText","email","title","onPress","auth","signOut","buttonStyle","signOutButton","create","flex","alignItems","width","height","paddingTop","position","left","right","top","fontSize","xLarge","color","fontColour","medium","marginTop","marginBottom"],"sources":["D:/Moco/PartyPilot/src/screens/Profile/Profile.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Text, StyleSheet, View } from 'react-native';\r\nimport { Button } from 'react-native-elements';\r\nimport ProfilPictureUplaod from '../../components/ProfileImage/ProfilPictureUplaod';\r\nimport { COLORS, SIZES } from '../../constants';\r\nimport { LinearGradient } from 'expo-linear-gradient';\r\nimport { useSession } from '../../hooks/useSession';\r\nimport { supabase } from '../../config/supabaseConfig';\r\n\r\n\r\nexport default function Profile() {\r\n  const { session } = useSession();\r\n  const [profile, setProfile] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchProfile = async () => {\r\n      try {\r\n        const { data, error } = await supabase\r\n          .from('profiles')\r\n          .select('username')\r\n          .eq('id', session.user.id)\r\n          .single();\r\n\r\n        if (error) {\r\n          console.error('Error fetching profile:', error.message);\r\n          return;\r\n        }\r\n\r\n        setProfile(data);\r\n      } catch (error) {\r\n        console.error('Error fetching profile:', error.message);\r\n      }\r\n    };\r\n\r\n    fetchProfile();\r\n  }, [session]);\r\n\r\n  if (!session || !session.user) {\r\n    console.warn('Session or user not available:', session);\r\n    return null; // You may want to render a loading state or redirect the user\r\n  }\r\n\r\n  const { user } = session;\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <LinearGradient colors={[COLORS.heroColour, 'black']} style={styles.background}></LinearGradient>\r\n      <View style={styles.wrapper}>\r\n        <Text style={styles.headline}> Profile </Text>\r\n        <ProfilPictureUplaod dimension={150} />\r\n        {profile && <Text style={styles.usernameText}>Username: {profile.username}</Text>}\r\n        <Text style={styles.emailText}>Email: {user.email}</Text>\r\n        <Button title=\"Sign Out\" onPress={() => supabase.auth.signOut()} buttonStyle={styles.signOutButton} />\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  wrapper: {\r\n    width: '100%',\r\n    height: '100%',\r\n    alignItems: 'center',\r\n    paddingTop: 50,\r\n  },\r\n  background: {\r\n    position: 'absolute',\r\n    left: 0,\r\n    right: 0,\r\n    top: 0,\r\n    height: '100%',\r\n  },\r\n  headline: {\r\n    fontSize: SIZES.xLarge,\r\n    color: COLORS.fontColour,\r\n  },\r\n  usernameText: {\r\n    fontSize: SIZES.medium,\r\n    color: COLORS.fontColour,\r\n    marginTop: 10,\r\n    marginBottom: 10, // Add marginBottom to reduce space\r\n  },\r\n  emailText: {\r\n    fontSize: SIZES.medium,\r\n    color: COLORS.fontColour,\r\n    marginBottom: 10, // Add marginBottom to reduce space\r\n  },\r\n  signOutButton: {\r\n    // Adjust the styling of the button as needed\r\n  },\r\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}