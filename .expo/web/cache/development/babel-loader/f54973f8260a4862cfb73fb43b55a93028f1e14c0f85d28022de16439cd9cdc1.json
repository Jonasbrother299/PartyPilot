{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useCallback, useState } from \"react\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { supabase } from \"../../config/supabaseConfig\";\nimport { LinearGradient } from \"expo-linear-gradient\";\nimport { useFocusEffect } from \"@react-navigation/native\";\nimport { COLORS, SIZES, images } from \"../../constants\";\nimport Spacer from \"../../components/Basics/Spacer/spacer\";\nimport Background from \"../../components/Basics/Image/Background\";\nimport SearchIcon from \"../../components/Search/SearchIcon\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Discover() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    recipes = _useState2[0],\n    setRecipes = _useState2[1];\n  useFocusEffect(useCallback(function () {\n    fetchRecipe();\n  }, []));\n  var fetchRecipe = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        var _yield$supabase$from$ = yield supabase.from(\"recipes\").select(\"*\"),\n          data = _yield$supabase$from$.data,\n          error = _yield$supabase$from$.error;\n        if (error) {\n          console.error(\"Error fetching recipes:\", error);\n        } else {\n          setRecipes(data);\n        }\n      } catch (error) {\n        console.error(\"Error fetching recipes:\", error);\n      }\n    });\n    return function fetchRecipe() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var handleEmpty = function handleEmpty() {\n    return _jsx(Text, {\n      style: styles.title,\n      children: \" No data present!\"\n    });\n  };\n  var renderRecipeItem = function renderRecipeItem(_ref2) {\n    var item = _ref2.item;\n    return _jsx(TouchableOpacity, {\n      style: styles.resultContainer,\n      children: _jsxs(View, {\n        style: styles.eventItem,\n        children: [_jsx(Image, {\n          source: {\n            uri: item.image\n          },\n          style: styles.image\n        }), _jsx(View, {\n          style: styles.overlay,\n          children: _jsx(Text, {\n            style: styles.recipeTitle,\n            children: item.title\n          })\n        })]\n      })\n    });\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Background, {\n      src: images.Background,\n      style: styles.backgroundImage\n    }), _jsxs(Spacer, {\n      vertical: 70,\n      horizontal: 20,\n      children: [_jsxs(View, {\n        style: styles.header,\n        children: [_jsx(Text, {\n          style: styles.Headline,\n          children: \"Discover\"\n        }), _jsx(SearchIcon, {})]\n      }), _jsx(Spacer, {\n        vertical: 30,\n        horizontal: 0,\n        children: _jsx(FlatList, {\n          data: recipes,\n          ListEmptyComponent: handleEmpty,\n          keyExtractor: function keyExtractor(item) {\n            return item.id.toString();\n          },\n          renderItem: renderRecipeItem,\n          numColumns: 2,\n          onRefresh: function onRefresh() {\n            return fetchRecipe();\n          },\n          refreshing: false\n        })\n      })]\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  header: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\"\n  },\n  container: {\n    flex: 1,\n    width: \"100%\",\n    height: \"100%\",\n    position: \"relative\",\n    backgroundColor: COLORS.heroColour\n  },\n  backgroundImage: {\n    flex: 1,\n    resizeMode: \"cover\",\n    position: \"absolute\",\n    width: \"100%\",\n    height: \"100%\"\n  },\n  Headline: {\n    fontSize: SIZES.xxLarge,\n    color: COLORS.fontColour\n  },\n  resultContainer: {\n    flex: 1,\n    paddingBottom: 10\n  },\n  eventItem: {\n    flex: 1,\n    marginBottom: 20,\n    gap: 0,\n    overflow: \"hidden\"\n  },\n  image: {\n    width: 150,\n    height: 200,\n    resizeMode: \"cover\",\n    borderRadius: 8\n  },\n  overlay: {\n    width: 150,\n    backgroundColor: COLORS.primaryColour1,\n    justifyContent: \"flex-end\",\n    alignItems: \"center\",\n    paddingBottom: 8\n  },\n  gradient: {\n    position: \"absolute\",\n    left: 0,\n    right: 0,\n    bottom: 0,\n    height: 30\n  },\n  recipeTitle: {\n    color: \"white\",\n    textAlign: \"center\"\n  }\n});","map":{"version":3,"names":["useCallback","useState","Text","StyleSheet","View","Image","FlatList","TouchableOpacity","supabase","LinearGradient","useFocusEffect","COLORS","SIZES","images","Spacer","Background","SearchIcon","jsx","_jsx","jsxs","_jsxs","Discover","_useState","_useState2","_slicedToArray","recipes","setRecipes","fetchRecipe","_ref","_asyncToGenerator","_yield$supabase$from$","from","select","data","error","console","apply","arguments","handleEmpty","style","styles","title","children","renderRecipeItem","_ref2","item","resultContainer","eventItem","source","uri","image","overlay","recipeTitle","container","src","backgroundImage","vertical","horizontal","header","Headline","ListEmptyComponent","keyExtractor","id","toString","renderItem","numColumns","onRefresh","refreshing","create","flexDirection","justifyContent","alignItems","flex","width","height","position","backgroundColor","heroColour","resizeMode","fontSize","xxLarge","color","fontColour","paddingBottom","marginBottom","gap","overflow","borderRadius","primaryColour1","gradient","left","right","bottom","textAlign"],"sources":["D:/Moco/PartyPilot/src/screens/Discover/Discover.jsx"],"sourcesContent":["import { useCallback, useState } from \"react\";\r\nimport {\r\n  Text,\r\n  StyleSheet,\r\n  View,\r\n  Image,\r\n  FlatList,\r\n  TouchableOpacity,\r\n} from \"react-native\";\r\nimport { supabase } from \"../../config/supabaseConfig\";\r\nimport { LinearGradient } from \"expo-linear-gradient\";\r\nimport { useFocusEffect } from \"@react-navigation/native\";\r\n\r\nimport { COLORS, SIZES, images } from \"../../constants\";\r\nimport Spacer from \"../../components/Basics/Spacer/spacer\";\r\nimport Background from \"../../components/Basics/Image/Background\";\r\nimport SearchIcon from \"../../components/Search/SearchIcon\";\r\n\r\nexport default function Discover() {\r\n  const [recipes, setRecipes] = useState([]);\r\n\r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      // Fetch recipes when the screen gains focus\r\n      fetchRecipe();\r\n    }, [])\r\n  );\r\n\r\n  const fetchRecipe = async () => {\r\n    try {\r\n      const { data, error } = await supabase.from(\"recipes\").select(\"*\");\r\n      if (error) {\r\n        console.error(\"Error fetching recipes:\", error);\r\n      } else {\r\n        setRecipes(data);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching recipes:\", error);\r\n    }\r\n  };\r\n\r\n  const handleEmpty = () => {\r\n    return <Text style={styles.title}> No data present!</Text>;\r\n  };\r\n\r\n  const renderRecipeItem = ({ item }) => (\r\n    <TouchableOpacity\r\n      // onPress={() => handleEventPress(item)}\r\n      style={styles.resultContainer}\r\n    >\r\n      <View style={styles.eventItem}>\r\n        <Image source={{ uri: item.image }} style={styles.image} />\r\n        <View style={styles.overlay}>\r\n          <Text style={styles.recipeTitle}>{item.title}</Text>\r\n        </View>\r\n      </View>\r\n    </TouchableOpacity>\r\n  );\r\n  return (\r\n    <View style={styles.container}>\r\n      {/* Background Component */}\r\n      <Background src={images.Background} style={styles.backgroundImage} />\r\n\r\n      <Spacer vertical={70} horizontal={20}>\r\n        <View style={styles.header}>\r\n          <Text style={styles.Headline}>Discover</Text>\r\n          <SearchIcon />\r\n        </View>\r\n        <Spacer vertical={30} horizontal={0}>\r\n          <FlatList\r\n            data={recipes}\r\n            ListEmptyComponent={handleEmpty}\r\n            keyExtractor={(item) => item.id.toString()}\r\n            renderItem={renderRecipeItem}\r\n            numColumns={2}\r\n            onRefresh={() => fetchRecipe()}\r\n            refreshing={false}\r\n          />\r\n        </Spacer>\r\n      </Spacer>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  header: {\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n  },\r\n  container: {\r\n    flex: 1,\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    position: \"relative\",\r\n    backgroundColor: COLORS.heroColour,\r\n  },\r\n  backgroundImage: {\r\n    flex: 1,\r\n    resizeMode: \"cover\",\r\n    position: \"absolute\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n  },\r\n  Headline: {\r\n    fontSize: SIZES.xxLarge,\r\n    color: COLORS.fontColour,\r\n  },\r\n  resultContainer: {\r\n    flex: 1,\r\n    paddingBottom: 10,\r\n  },\r\n  eventItem: {\r\n    flex: 1,\r\n    marginBottom: 20,\r\n    gap: 0,\r\n    overflow: \"hidden\",\r\n  },\r\n  image: {\r\n    width: 150,\r\n    height: 200,\r\n    resizeMode: \"cover\",\r\n    borderRadius: 8,\r\n  },\r\n  overlay: {\r\n    width: 150,\r\n    backgroundColor: COLORS.primaryColour1,\r\n    justifyContent: \"flex-end\",\r\n    alignItems: \"center\",\r\n    paddingBottom: 8,\r\n  },\r\n  gradient: {\r\n    position: \"absolute\",\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    height: 30,\r\n  },\r\n  recipeTitle: {\r\n    color: \"white\",\r\n    textAlign: \"center\",\r\n  },\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}