{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = Profile;\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _Text = _interopRequireDefault(require(\"react-native-web/dist/exports/Text\"));\nvar _StyleSheet = _interopRequireDefault(require(\"react-native-web/dist/exports/StyleSheet\"));\nvar _View = _interopRequireDefault(require(\"react-native-web/dist/exports/View\"));\nvar _reactNativeElements = require(\"react-native-elements\");\nvar _ProfilPictureUplaod = _interopRequireDefault(require(\"../../components/ProfileImage/ProfilPictureUplaod\"));\nvar _constants = require(\"../../constants\");\nvar _expoLinearGradient = require(\"expo-linear-gradient\");\nvar _useSession2 = require(\"../../hooks/useSession\");\nvar _supabaseConfig = require(\"../../config/supabaseConfig\");\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _jsxFileName = \"D:\\\\Moco\\\\PartyPilot\\\\src\\\\screens\\\\Profile\\\\Profile.jsx\";\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nfunction Profile() {\n  var _useSession = (0, _useSession2.useSession)(),\n    session = _useSession.session;\n  var _useState = (0, _react.useState)(null),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    profile = _useState2[0],\n    setProfile = _useState2[1];\n  (0, _react.useEffect)(function () {\n    var fetchProfile = function () {\n      var _ref = (0, _asyncToGenerator2.default)(function* () {\n        try {\n          var _yield$supabase$from$ = yield _supabaseConfig.supabase.from('profiles').select('username').eq('id', session.user.id).single(),\n            data = _yield$supabase$from$.data,\n            error = _yield$supabase$from$.error;\n          if (error) {\n            console.error('Error fetching profile:', error.message);\n            return;\n          }\n          setProfile(data);\n        } catch (error) {\n          console.error('Error fetching profile:', error.message);\n        }\n      });\n      return function fetchProfile() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    fetchProfile();\n  }, [session]);\n  if (!session || !session.user) {\n    console.warn('Session or user not available:', session);\n    return null;\n  }\n  var user = session.user;\n  return (0, _jsxRuntime.jsxs)(_View.default, {\n    style: styles.container,\n    children: [(0, _jsxRuntime.jsx)(_expoLinearGradient.LinearGradient, {\n      colors: [_constants.COLORS.heroColour, 'black'],\n      style: styles.background\n    }), (0, _jsxRuntime.jsxs)(_View.default, {\n      style: styles.wrapper,\n      children: [(0, _jsxRuntime.jsx)(_Text.default, {\n        style: styles.headline,\n        children: \" Profile \"\n      }), (0, _jsxRuntime.jsx)(_ProfilPictureUplaod.default, {\n        dimension: 150\n      }), profile && (0, _jsxRuntime.jsxs)(_Text.default, {\n        style: styles.usernameText,\n        children: [\"Username: \", profile.username]\n      }), (0, _jsxRuntime.jsxs)(_Text.default, {\n        style: styles.emailText,\n        children: [\"Email: \", user.email]\n      }), (0, _jsxRuntime.jsx)(_reactNativeElements.Button, {\n        title: \"Sign Out\",\n        onPress: function onPress() {\n          return _supabaseConfig.supabase.auth.signOut();\n        },\n        buttonStyle: styles.signOutButton\n      })]\n    })]\n  });\n}\nvar styles = _StyleSheet.default.create({\n  container: {\n    flex: 1,\n    alignItems: 'center'\n  },\n  wrapper: {\n    width: '100%',\n    height: '100%',\n    alignItems: 'center',\n    paddingTop: 50\n  },\n  background: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    height: '100%'\n  },\n  headline: {\n    fontSize: _constants.SIZES.xLarge,\n    color: _constants.COLORS.fontColour\n  },\n  usernameText: {\n    fontSize: _constants.SIZES.medium,\n    color: _constants.COLORS.fontColour,\n    marginTop: 10,\n    marginBottom: 10\n  },\n  emailText: {\n    fontSize: _constants.SIZES.medium,\n    color: _constants.COLORS.fontColour,\n    marginBottom: 10\n  },\n  signOutButton: {}\n});","map":{"version":3,"names":["_react","_interopRequireWildcard","require","_Text","_interopRequireDefault","_StyleSheet","_View","_reactNativeElements","_ProfilPictureUplaod","_constants","_expoLinearGradient","_useSession2","_supabaseConfig","_jsxRuntime","_jsxFileName","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","Profile","_useSession","useSession","session","_useState","useState","_useState2","_slicedToArray2","profile","setProfile","useEffect","fetchProfile","_ref","_asyncToGenerator2","_yield$supabase$from$","supabase","from","select","eq","user","id","single","data","error","console","message","apply","arguments","warn","jsxs","style","styles","container","children","jsx","LinearGradient","colors","COLORS","heroColour","background","wrapper","headline","dimension","usernameText","username","emailText","email","Button","title","onPress","auth","signOut","buttonStyle","signOutButton","StyleSheet","create","flex","alignItems","width","height","paddingTop","position","left","right","top","fontSize","SIZES","xLarge","color","fontColour","medium","marginTop","marginBottom"],"sources":["D:/Moco/PartyPilot/src/screens/Profile/Profile.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Text, StyleSheet, View } from 'react-native';\r\nimport { Button } from 'react-native-elements';\r\nimport ProfilPictureUplaod from '../../components/ProfileImage/ProfilPictureUplaod';\r\nimport { COLORS, SIZES } from '../../constants';\r\nimport { LinearGradient } from 'expo-linear-gradient';\r\nimport { useSession } from '../../hooks/useSession';\r\nimport { supabase } from '../../config/supabaseConfig';\r\n\r\n\r\nexport default function Profile() {\r\n  const { session } = useSession();\r\n  const [profile, setProfile] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchProfile = async () => {\r\n      try {\r\n        const { data, error } = await supabase\r\n          .from('profiles')\r\n          .select('username')\r\n          .eq('id', session.user.id)\r\n          .single();\r\n\r\n        if (error) {\r\n          console.error('Error fetching profile:', error.message);\r\n          return;\r\n        }\r\n\r\n        setProfile(data);\r\n      } catch (error) {\r\n        console.error('Error fetching profile:', error.message);\r\n      }\r\n    };\r\n\r\n    fetchProfile();\r\n  }, [session]);\r\n\r\n  if (!session || !session.user) {\r\n    console.warn('Session or user not available:', session);\r\n    return null; // You may want to render a loading state or redirect the user\r\n  }\r\n\r\n  const { user } = session;\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <LinearGradient colors={[COLORS.heroColour, 'black']} style={styles.background}></LinearGradient>\r\n      <View style={styles.wrapper}>\r\n        <Text style={styles.headline}> Profile </Text>\r\n        <ProfilPictureUplaod dimension={150} />\r\n        {profile && <Text style={styles.usernameText}>Username: {profile.username}</Text>}\r\n        <Text style={styles.emailText}>Email: {user.email}</Text>\r\n        <Button title=\"Sign Out\" onPress={() => supabase.auth.signOut()} buttonStyle={styles.signOutButton} />\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  wrapper: {\r\n    width: '100%',\r\n    height: '100%',\r\n    alignItems: 'center',\r\n    paddingTop: 50,\r\n  },\r\n  background: {\r\n    position: 'absolute',\r\n    left: 0,\r\n    right: 0,\r\n    top: 0,\r\n    height: '100%',\r\n  },\r\n  headline: {\r\n    fontSize: SIZES.xLarge,\r\n    color: COLORS.fontColour,\r\n  },\r\n  usernameText: {\r\n    fontSize: SIZES.medium,\r\n    color: COLORS.fontColour,\r\n    marginTop: 10,\r\n    marginBottom: 10, // Add marginBottom to reduce space\r\n  },\r\n  emailText: {\r\n    fontSize: SIZES.medium,\r\n    color: COLORS.fontColour,\r\n    marginBottom: 10, // Add marginBottom to reduce space\r\n  },\r\n  signOutButton: {\r\n    // Adjust the styling of the button as needed\r\n  },\r\n});"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}