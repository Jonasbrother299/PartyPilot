{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from \"react\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { Button } from \"react-native-elements\";\nimport { LinearGradient } from \"expo-linear-gradient\";\nimport { useSession } from \"../../hooks/useSession\";\nimport { supabase } from \"../../config/supabaseConfig\";\nimport ProfilPictureUplaod from \"../../components/ProfileImage/ProfilPictureUplaod\";\nimport { COLORS, SIZES, images } from \"../../constants\";\nimport CTAButton from \"../../components/Basics/CTAButton/CTAButton\";\nimport Spacer from \"../../components/Basics/Spacer/spacer\";\nimport Background from \"../../components/Basics/Image/Background\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nexport default function Profile() {\n  var _useSession = useSession(),\n    session = _useSession.session;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    profile = _useState2[0],\n    setProfile = _useState2[1];\n  function goToEditProfile() {}\n  useEffect(function () {\n    var fetchProfile = function () {\n      var _ref = _asyncToGenerator(function* () {\n        try {\n          var _yield$supabase$from$ = yield supabase.from(\"profiles\").select(\"username\").eq(\"id\", session.user.id).single(),\n            data = _yield$supabase$from$.data,\n            error = _yield$supabase$from$.error;\n          if (error) {\n            console.error(\"Error fetching profile:\", error.message);\n            return;\n          }\n          setProfile(data);\n        } catch (error) {\n          console.error(\"Error fetching profile:\", error.message);\n        }\n      });\n      return function fetchProfile() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    var fetchUserRecipes = function () {\n      var _ref2 = _asyncToGenerator(function* () {\n        try {\n          var _yield$supabase$from$2 = yield supabase.from(\"recipes\").select(\"title, image\").eq(\"user_id\", session.user.id),\n            data = _yield$supabase$from$2.data,\n            error = _yield$supabase$from$2.error;\n          if (error) {\n            console.error(\"Error fetching user recipes:\", error.message);\n            return;\n          }\n          setUserRecipes(data);\n        } catch (error) {\n          console.error(\"Error fetching user recipes:\", error.message);\n        }\n      });\n      return function fetchUserRecipes() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    fetchProfile();\n    fetchUserRecipes();\n  }, [session]);\n  if (!session || !session.user) {\n    console.warn(\"Session or user not available:\", session);\n    return null;\n  }\n  var user = session.user;\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Background, {\n      src: images.Background,\n      style: styles.backgroundImage\n    }), _jsxs(View, {\n      style: styles.wrapper,\n      children: [_jsx(ProfilPictureUplaod, {\n        dimension: 150\n      }), _jsx(View, {\n        style: styles.profileInfo,\n        children: profile && _jsxs(_Fragment, {\n          children: [_jsxs(Text, {\n            style: styles.usernameText,\n            children: [\"Username: \", profile.username]\n          }), _jsx(Spacer, {\n            vertical: 40,\n            horizontal: 0,\n            children: _jsxs(View, {\n              style: styles.containerInfo__user,\n              children: [_jsxs(View, {\n                style: styles.containerInfo__user__grid,\n                children: [_jsx(Text, {\n                  style: styles.numberText,\n                  children: \"2\"\n                }), _jsx(Text, {\n                  style: styles.statusText,\n                  children: \"Event Created\"\n                })]\n              }), _jsxs(View, {\n                style: styles.containerInfo__user__grid,\n                children: [_jsx(Text, {\n                  style: styles.numberText,\n                  children: \"3\"\n                }), _jsx(Text, {\n                  style: styles.statusText,\n                  children: \"Event Attending\"\n                })]\n              })]\n            })\n          })]\n        })\n      }), _jsx(CTAButton, {\n        title: \"Edit Profile\",\n        onPress: goToEditProfile,\n        variant: \"primary\",\n        height: 60,\n        width: 300\n      }), _jsx(Button, {\n        title: \"Sign Out\",\n        onPress: function onPress() {\n          return supabase.auth.signOut();\n        },\n        buttonStyle: styles.signOutButton\n      })]\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\"\n  },\n  backgroundImage: {\n    flex: 1,\n    resizeMode: \"cover\",\n    position: \"absolute\",\n    width: \"100%\",\n    height: \"100%\"\n  },\n  containerInfo__user: {\n    flexDirection: \"row\",\n    justifyContent: \"space-around\",\n    gap: 60\n  },\n  containerInfo__user__grid: {\n    alignItems: \"center\"\n  },\n  numberText: {\n    fontSize: 18,\n    fontWeight: \"bold\",\n    color: COLORS.fontColour\n  },\n  statusText: {\n    fontSize: 18,\n    color: COLORS.fontColour\n  },\n  wrapper: {\n    width: \"100%\",\n    height: \"100%\",\n    alignItems: \"center\",\n    paddingTop: 30\n  },\n  background: {\n    position: \"absolute\",\n    left: 0,\n    right: 0,\n    top: 0,\n    height: \"100%\"\n  },\n  profileInfo: {\n    alignItems: \"center\"\n  },\n  usernameText: {\n    fontSize: SIZES.medium,\n    color: COLORS.fontColour\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","Text","StyleSheet","View","Button","LinearGradient","useSession","supabase","ProfilPictureUplaod","COLORS","SIZES","images","CTAButton","Spacer","Background","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Profile","_useSession","session","_useState","_useState2","_slicedToArray","profile","setProfile","goToEditProfile","fetchProfile","_ref","_asyncToGenerator","_yield$supabase$from$","from","select","eq","user","id","single","data","error","console","message","apply","arguments","fetchUserRecipes","_ref2","_yield$supabase$from$2","setUserRecipes","warn","style","styles","container","children","src","backgroundImage","wrapper","dimension","profileInfo","usernameText","username","vertical","horizontal","containerInfo__user","containerInfo__user__grid","numberText","statusText","title","onPress","variant","height","width","auth","signOut","buttonStyle","signOutButton","create","flex","alignItems","resizeMode","position","flexDirection","justifyContent","gap","fontSize","fontWeight","color","fontColour","paddingTop","background","left","right","top","medium"],"sources":["D:/Moco/PartyPilot/src/screens/Profile/Profile.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Text, StyleSheet, View } from \"react-native\";\r\nimport { Button } from \"react-native-elements\";\r\nimport { LinearGradient } from \"expo-linear-gradient\";\r\nimport { useSession } from \"../../hooks/useSession\";\r\nimport { supabase } from \"../../config/supabaseConfig\";\r\n\r\nimport ProfilPictureUplaod from \"../../components/ProfileImage/ProfilPictureUplaod\";\r\nimport { COLORS, SIZES, images } from \"../../constants\";\r\nimport CTAButton from \"../../components/Basics/CTAButton/CTAButton\";\r\nimport Spacer from \"../../components/Basics/Spacer/spacer\";\r\nimport Background from \"../../components/Basics/Image/Background\";\r\n\r\nexport default function Profile() {\r\n  const { session } = useSession();\r\n  // console.log(session.user.user_metadata.username);\r\n  const [profile, setProfile] = useState(null);\r\n\r\n  function goToEditProfile() {}\r\n\r\n  useEffect(() => {\r\n    const fetchProfile = async () => {\r\n      try {\r\n        const { data, error } = await supabase\r\n          .from(\"profiles\")\r\n          .select(\"username\")\r\n          .eq(\"id\", session.user.id)\r\n          .single();\r\n\r\n        if (error) {\r\n          console.error(\"Error fetching profile:\", error.message);\r\n          return;\r\n        }\r\n\r\n        setProfile(data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching profile:\", error.message);\r\n      }\r\n    };\r\n\r\n    const fetchUserRecipes = async () => {\r\n      try {\r\n        const { data, error } = await supabase\r\n          .from(\"recipes\")\r\n          .select(\"title, image\")\r\n          .eq(\"user_id\", session.user.id);\r\n\r\n        if (error) {\r\n          console.error(\"Error fetching user recipes:\", error.message);\r\n          return;\r\n        }\r\n\r\n        setUserRecipes(data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching user recipes:\", error.message);\r\n      }\r\n    };\r\n\r\n    fetchProfile();\r\n    fetchUserRecipes();\r\n  }, [session]);\r\n\r\n  if (!session || !session.user) {\r\n    console.warn(\"Session or user not available:\", session);\r\n    return null;\r\n  }\r\n\r\n  const { user } = session;\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <Background src={images.Background} style={styles.backgroundImage} />\r\n\r\n      {/* <LinearGradient\r\n        colors={[COLORS.heroColour, \"black\"]}\r\n        style={styles.background}\r\n      ></LinearGradient> */}\r\n      <View style={styles.wrapper}>\r\n        <ProfilPictureUplaod dimension={150} />\r\n        <View style={styles.profileInfo}>\r\n          {profile && (\r\n            <>\r\n              <Text style={styles.usernameText}>\r\n                Username: {profile.username}\r\n              </Text>\r\n              <Spacer vertical={40} horizontal={0}>\r\n                <View style={styles.containerInfo__user}>\r\n                  <View style={styles.containerInfo__user__grid}>\r\n                    <Text style={styles.numberText}>\r\n                      2{/* {profile.eventsCreated} */}\r\n                    </Text>\r\n                    <Text style={styles.statusText}>Event Created</Text>\r\n                  </View>\r\n\r\n                  <View style={styles.containerInfo__user__grid}>\r\n                    <Text style={styles.numberText}>\r\n                      3{/* {profile.eventsAttending} */}\r\n                    </Text>\r\n                    <Text style={styles.statusText}>Event Attending</Text>\r\n                  </View>\r\n                </View>\r\n              </Spacer>\r\n            </>\r\n          )}\r\n        </View>\r\n        <CTAButton\r\n          title={\"Edit Profile\"}\r\n          onPress={goToEditProfile}\r\n          variant={\"primary\"}\r\n          height={60}\r\n          width={300}\r\n        />\r\n        <Button\r\n          title=\"Sign Out\"\r\n          onPress={() => supabase.auth.signOut()}\r\n          buttonStyle={styles.signOutButton}\r\n        />\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    alignItems: \"center\",\r\n  },\r\n  backgroundImage: {\r\n    flex: 1,\r\n    resizeMode: \"cover\",\r\n    position: \"absolute\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n  },\r\n  containerInfo__user: {\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-around\",\r\n    gap: 60,\r\n  },\r\n  containerInfo__user__grid: {\r\n    alignItems: \"center\",\r\n  },\r\n  numberText: {\r\n    fontSize: 18,\r\n    fontWeight: \"bold\",\r\n    color: COLORS.fontColour,\r\n  },\r\n  statusText: {\r\n    fontSize: 18,\r\n    color: COLORS.fontColour,\r\n  },\r\n\r\n  wrapper: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    alignItems: \"center\",\r\n    paddingTop: 30,\r\n  },\r\n  background: {\r\n    position: \"absolute\",\r\n    left: 0,\r\n    right: 0,\r\n    top: 0,\r\n    height: \"100%\",\r\n  },\r\n  profileInfo: {\r\n    alignItems: \"center\",\r\n  },\r\n  usernameText: {\r\n    fontSize: SIZES.medium,\r\n    color: COLORS.fontColour,\r\n  },\r\n});\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,UAAA;AAAA,OAAAC,IAAA;AAEnD,SAASC,MAAM,QAAQ,uBAAuB;AAC9C,SAASC,cAAc,QAAQ,sBAAsB;AACrD,SAASC,UAAU;AACnB,SAASC,QAAQ;AAEjB,OAAOC,mBAAmB;AAC1B,SAASC,MAAM,EAAEC,KAAK,EAAEC,MAAM;AAC9B,OAAOC,SAAS;AAChB,OAAOC,MAAM;AACb,OAAOC,UAAU;AAAiD,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAElE,eAAe,SAASC,OAAOA,CAAA,EAAG;EAChC,IAAAC,WAAA,GAAoBhB,UAAU,CAAC,CAAC;IAAxBiB,OAAO,GAAAD,WAAA,CAAPC,OAAO;EAEf,IAAAC,SAAA,GAA8BxB,QAAQ,CAAC,IAAI,CAAC;IAAAyB,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAArCG,OAAO,GAAAF,UAAA;IAAEG,UAAU,GAAAH,UAAA;EAE1B,SAASI,eAAeA,CAAA,EAAG,CAAC;EAE5B9B,SAAS,CAAC,YAAM;IACd,IAAM+B,YAAY;MAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,aAAY;QAC/B,IAAI;UACF,IAAAC,qBAAA,SAA8B1B,QAAQ,CACnC2B,IAAI,CAAC,UAAU,CAAC,CAChBC,MAAM,CAAC,UAAU,CAAC,CAClBC,EAAE,CAAC,IAAI,EAAEb,OAAO,CAACc,IAAI,CAACC,EAAE,CAAC,CACzBC,MAAM,CAAC,CAAC;YAJHC,IAAI,GAAAP,qBAAA,CAAJO,IAAI;YAAEC,KAAK,GAAAR,qBAAA,CAALQ,KAAK;UAMnB,IAAIA,KAAK,EAAE;YACTC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAACE,OAAO,CAAC;YACvD;UACF;UAEAf,UAAU,CAACY,IAAI,CAAC;QAClB,CAAC,CAAC,OAAOC,KAAK,EAAE;UACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAACE,OAAO,CAAC;QACzD;MACF,CAAC;MAAA,gBAjBKb,YAAYA,CAAA;QAAA,OAAAC,IAAA,CAAAa,KAAA,OAAAC,SAAA;MAAA;IAAA,GAiBjB;IAED,IAAMC,gBAAgB;MAAA,IAAAC,KAAA,GAAAf,iBAAA,CAAG,aAAY;QACnC,IAAI;UACF,IAAAgB,sBAAA,SAA8BzC,QAAQ,CACnC2B,IAAI,CAAC,SAAS,CAAC,CACfC,MAAM,CAAC,cAAc,CAAC,CACtBC,EAAE,CAAC,SAAS,EAAEb,OAAO,CAACc,IAAI,CAACC,EAAE,CAAC;YAHzBE,IAAI,GAAAQ,sBAAA,CAAJR,IAAI;YAAEC,KAAK,GAAAO,sBAAA,CAALP,KAAK;UAKnB,IAAIA,KAAK,EAAE;YACTC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAACE,OAAO,CAAC;YAC5D;UACF;UAEAM,cAAc,CAACT,IAAI,CAAC;QACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;UACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAACE,OAAO,CAAC;QAC9D;MACF,CAAC;MAAA,gBAhBKG,gBAAgBA,CAAA;QAAA,OAAAC,KAAA,CAAAH,KAAA,OAAAC,SAAA;MAAA;IAAA,GAgBrB;IAEDf,YAAY,CAAC,CAAC;IACdgB,gBAAgB,CAAC,CAAC;EACpB,CAAC,EAAE,CAACvB,OAAO,CAAC,CAAC;EAEb,IAAI,CAACA,OAAO,IAAI,CAACA,OAAO,CAACc,IAAI,EAAE;IAC7BK,OAAO,CAACQ,IAAI,CAAC,gCAAgC,EAAE3B,OAAO,CAAC;IACvD,OAAO,IAAI;EACb;EAEA,IAAQc,IAAI,GAAKd,OAAO,CAAhBc,IAAI;EAEZ,OACEnB,KAAA,CAACf,IAAI;IAACgD,KAAK,EAAEC,MAAM,CAACC,SAAU;IAAAC,QAAA,GAC5BtC,IAAA,CAACF,UAAU;MAACyC,GAAG,EAAE5C,MAAM,CAACG,UAAW;MAACqC,KAAK,EAAEC,MAAM,CAACI;IAAgB,CAAE,CAAC,EAMrEtC,KAAA,CAACf,IAAI;MAACgD,KAAK,EAAEC,MAAM,CAACK,OAAQ;MAAAH,QAAA,GAC1BtC,IAAA,CAACR,mBAAmB;QAACkD,SAAS,EAAE;MAAI,CAAE,CAAC,EACvC1C,IAAA,CAACb,IAAI;QAACgD,KAAK,EAAEC,MAAM,CAACO,WAAY;QAAAL,QAAA,EAC7B3B,OAAO,IACNT,KAAA,CAAAE,SAAA;UAAAkC,QAAA,GACEpC,KAAA,CAACjB,IAAI;YAACkD,KAAK,EAAEC,MAAM,CAACQ,YAAa;YAAAN,QAAA,GAAC,YACtB,EAAC3B,OAAO,CAACkC,QAAQ;UAAA,CACvB,CAAC,EACP7C,IAAA,CAACH,MAAM;YAACiD,QAAQ,EAAE,EAAG;YAACC,UAAU,EAAE,CAAE;YAAAT,QAAA,EAClCpC,KAAA,CAACf,IAAI;cAACgD,KAAK,EAAEC,MAAM,CAACY,mBAAoB;cAAAV,QAAA,GACtCpC,KAAA,CAACf,IAAI;gBAACgD,KAAK,EAAEC,MAAM,CAACa,yBAA0B;gBAAAX,QAAA,GAC5CtC,IAAA,CAACf,IAAI;kBAACkD,KAAK,EAAEC,MAAM,CAACc,UAAW;kBAAAZ,QAAA,EAAC;gBAC7B,CACG,CAAC,EACPtC,IAAA,CAACf,IAAI;kBAACkD,KAAK,EAAEC,MAAM,CAACe,UAAW;kBAAAb,QAAA,EAAC;gBAAa,CAAM,CAAC;cAAA,CAChD,CAAC,EAEPpC,KAAA,CAACf,IAAI;gBAACgD,KAAK,EAAEC,MAAM,CAACa,yBAA0B;gBAAAX,QAAA,GAC5CtC,IAAA,CAACf,IAAI;kBAACkD,KAAK,EAAEC,MAAM,CAACc,UAAW;kBAAAZ,QAAA,EAAC;gBAC7B,CACG,CAAC,EACPtC,IAAA,CAACf,IAAI;kBAACkD,KAAK,EAAEC,MAAM,CAACe,UAAW;kBAAAb,QAAA,EAAC;gBAAe,CAAM,CAAC;cAAA,CAClD,CAAC;YAAA,CACH;UAAC,CACD,CAAC;QAAA,CACT;MACH,CACG,CAAC,EACPtC,IAAA,CAACJ,SAAS;QACRwD,KAAK,EAAE,cAAe;QACtBC,OAAO,EAAExC,eAAgB;QACzByC,OAAO,EAAE,SAAU;QACnBC,MAAM,EAAE,EAAG;QACXC,KAAK,EAAE;MAAI,CACZ,CAAC,EACFxD,IAAA,CAACZ,MAAM;QACLgE,KAAK,EAAC,UAAU;QAChBC,OAAO,EAAE,SAAAA,QAAA;UAAA,OAAM9D,QAAQ,CAACkE,IAAI,CAACC,OAAO,CAAC,CAAC;QAAA,CAAC;QACvCC,WAAW,EAAEvB,MAAM,CAACwB;MAAc,CACnC,CAAC;IAAA,CACE,CAAC;EAAA,CACH,CAAC;AAEX;AAEA,IAAMxB,MAAM,GAAGlD,UAAU,CAAC2E,MAAM,CAAC;EAC/BxB,SAAS,EAAE;IACTyB,IAAI,EAAE,CAAC;IACPC,UAAU,EAAE;EACd,CAAC;EACDvB,eAAe,EAAE;IACfsB,IAAI,EAAE,CAAC;IACPE,UAAU,EAAE,OAAO;IACnBC,QAAQ,EAAE,UAAU;IACpBT,KAAK,EAAE,MAAM;IACbD,MAAM,EAAE;EACV,CAAC;EACDP,mBAAmB,EAAE;IACnBkB,aAAa,EAAE,KAAK;IACpBC,cAAc,EAAE,cAAc;IAC9BC,GAAG,EAAE;EACP,CAAC;EACDnB,yBAAyB,EAAE;IACzBc,UAAU,EAAE;EACd,CAAC;EACDb,UAAU,EAAE;IACVmB,QAAQ,EAAE,EAAE;IACZC,UAAU,EAAE,MAAM;IAClBC,KAAK,EAAE9E,MAAM,CAAC+E;EAChB,CAAC;EACDrB,UAAU,EAAE;IACVkB,QAAQ,EAAE,EAAE;IACZE,KAAK,EAAE9E,MAAM,CAAC+E;EAChB,CAAC;EAED/B,OAAO,EAAE;IACPe,KAAK,EAAE,MAAM;IACbD,MAAM,EAAE,MAAM;IACdQ,UAAU,EAAE,QAAQ;IACpBU,UAAU,EAAE;EACd,CAAC;EACDC,UAAU,EAAE;IACVT,QAAQ,EAAE,UAAU;IACpBU,IAAI,EAAE,CAAC;IACPC,KAAK,EAAE,CAAC;IACRC,GAAG,EAAE,CAAC;IACNtB,MAAM,EAAE;EACV,CAAC;EACDZ,WAAW,EAAE;IACXoB,UAAU,EAAE;EACd,CAAC;EACDnB,YAAY,EAAE;IACZyB,QAAQ,EAAE3E,KAAK,CAACoF,MAAM;IACtBP,KAAK,EAAE9E,MAAM,CAAC+E;EAChB;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}