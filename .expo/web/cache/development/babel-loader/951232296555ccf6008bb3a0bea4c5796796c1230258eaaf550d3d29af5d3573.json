{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createAnimatedComponent;\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _findNodeHandle = _interopRequireDefault(require(\"react-native-web/dist/exports/findNodeHandle\"));\nvar _Platform = _interopRequireDefault(require(\"react-native-web/dist/exports/Platform\"));\nvar _StyleSheet = _interopRequireDefault(require(\"react-native-web/dist/exports/StyleSheet\"));\nvar _WorkletEventHandler = _interopRequireDefault(require(\"./reanimated2/WorkletEventHandler\"));\nvar _setAndForwardRef = _interopRequireDefault(require(\"./setAndForwardRef\"));\nrequire(\"./reanimated2/layoutReanimation/animationsManager\");\nvar _invariant = _interopRequireDefault(require(\"invariant\"));\nvar _ConfigHelper = require(\"./ConfigHelper\");\nvar _RNRenderer = require(\"./reanimated2/platform-specific/RNRenderer\");\nvar _core = require(\"./reanimated2/core\");\nvar _PlatformChecker = require(\"./reanimated2/PlatformChecker\");\nvar _animation = require(\"./reanimated2/animation\");\nvar _layoutReanimation = require(\"./reanimated2/layoutReanimation\");\nvar _ViewDescriptorsSet = require(\"./reanimated2/ViewDescriptorsSet\");\nvar _fabricUtils = require(\"./reanimated2/fabricUtils\");\nvar _UpdateProps = _interopRequireDefault(require(\"./reanimated2/UpdateProps\"));\nvar _NativeReanimated = _interopRequireDefault(require(\"./reanimated2/NativeReanimated\"));\nvar _reanimated = require(\"./reanimated2\");\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction dummyListener() {}\nfunction maybeBuild(layoutAnimationOrBuilder) {\n  var isAnimationBuilder = function isAnimationBuilder(value) {\n    return 'build' in layoutAnimationOrBuilder && typeof layoutAnimationOrBuilder.build === 'function';\n  };\n  if (isAnimationBuilder(layoutAnimationOrBuilder)) {\n    return layoutAnimationOrBuilder.build();\n  } else {\n    return layoutAnimationOrBuilder;\n  }\n}\nfunction flattenArray(array) {\n  if (!Array.isArray(array)) {\n    return [array];\n  }\n  var resultArr = [];\n  var _flattenArray = function _flattenArray(arr) {\n    arr.forEach(function (item) {\n      if (Array.isArray(item)) {\n        _flattenArray(item);\n      } else {\n        resultArr.push(item);\n      }\n    });\n  };\n  _flattenArray(array);\n  return resultArr;\n}\nfunction onlyAnimatedStyles(styles) {\n  return styles.filter(function (style) {\n    return style === null || style === void 0 ? void 0 : style.viewDescriptors;\n  });\n}\nfunction isSameAnimatedStyle(style1, style2) {\n  return (style1 === null || style1 === void 0 ? void 0 : style1.viewsRef) === (style2 === null || style2 === void 0 ? void 0 : style2.viewsRef);\n}\nvar isSameAnimatedProps = isSameAnimatedStyle;\nvar has = function has(key, x) {\n  if (typeof x === 'function' || typeof x === 'object') {\n    if (x === null || x === undefined) {\n      return false;\n    } else {\n      return key in x;\n    }\n  }\n  return false;\n};\nfunction isInlineStyleTransform(transform) {\n  if (!transform) {\n    return false;\n  }\n  return transform.some(function (t) {\n    return hasInlineStyles(t);\n  });\n}\nfunction hasInlineStyles(style) {\n  if (!style) {\n    return false;\n  }\n  return Object.keys(style).some(function (key) {\n    var styleValue = style[key];\n    return (0, _reanimated.isSharedValue)(styleValue) || key === 'transform' && isInlineStyleTransform(styleValue);\n  });\n}\nfunction extractSharedValuesMapFromProps(props) {\n  var inlineProps = {};\n  for (var key in props) {\n    var value = props[key];\n    if (key === 'style') {\n      var _props$style;\n      var styles = flattenArray((_props$style = props.style) != null ? _props$style : []);\n      styles.forEach(function (style) {\n        if (!style) {\n          return;\n        }\n        for (var _ref3 of Object.entries(style)) {\n          var _ref2 = (0, _slicedToArray2.default)(_ref3, 2);\n          var _key = _ref2[0];\n          var styleValue = _ref2[1];\n          if ((0, _reanimated.isSharedValue)(styleValue)) {\n            inlineProps[_key] = styleValue;\n          } else if (_key === 'transform' && isInlineStyleTransform(styleValue)) {\n            inlineProps[_key] = styleValue;\n          }\n        }\n      });\n    } else if ((0, _reanimated.isSharedValue)(value)) {\n      inlineProps[key] = value;\n    }\n  }\n  return inlineProps;\n}\nfunction inlinePropsHasChanged(styles1, styles2) {\n  if (Object.keys(styles1).length !== Object.keys(styles2).length) {\n    return true;\n  }\n  for (var key of Object.keys(styles1)) {\n    if (styles1[key] !== styles2[key]) return true;\n  }\n  return false;\n}\nvar _worklet_10214432427375_init_data = {\n  code: \"function getInlinePropsUpdate(inlineProps) {\\n  const getInlinePropsUpdate = this._recur;\\n  const {\\n    isSharedValue\\n  } = this._closure;\\n  const update = {};\\n  for (const [key, styleValue] of Object.entries(inlineProps)) {\\n    if (key === 'transform') {\\n      update[key] = styleValue.map(function (transform) {\\n        return getInlinePropsUpdate(transform);\\n      });\\n    } else if (isSharedValue(styleValue)) {\\n      update[key] = styleValue.value;\\n    } else {\\n      update[key] = styleValue;\\n    }\\n  }\\n  return update;\\n}\",\n  location: \"D:\\\\Moco\\\\PartyPilot\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\createAnimatedComponent.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"getInlinePropsUpdate\\\",\\\"inlineProps\\\",\\\"_recur\\\",\\\"isSharedValue\\\",\\\"_closure\\\",\\\"update\\\",\\\"key\\\",\\\"styleValue\\\",\\\"Object\\\",\\\"entries\\\",\\\"map\\\",\\\"transform\\\",\\\"value\\\"],\\\"sources\\\":[\\\"D:/Moco/PartyPilot/node_modules/react-native-reanimated/lib/module/createAnimatedComponent.js\\\"],\\\"mappings\\\":\\\"AAqHA,SAAAA,oBAASA,CAAqBC,WAAA,EAAW;EAAA,MAAAD,oBAAA,QAAAE,MAAA;EAAA;IAAAC;EAAA,SAAAC,QAAA;EAGvC,MAAMC,MAAM,GAAG,CAAC,CAAC;EACjB,KAAK,MAAM,CAACC,GAAG,EAAEC,UAAU,CAAC,IAAIC,MAAM,CAACC,OAAO,CAACR,WAAW,CAAC,EAAE;IAC3D,IAAIK,GAAG,KAAK,WAAW,EAAE;MACvBD,MAAM,CAACC,GAAG,CAAC,GAAGC,UAAU,CAACG,GAAG,CAAC,UAAAC,SAAS,EAAI;QACxC,OAAOX,oBAAoB,CAACW,SAAS,CAAC;MACxC,CAAC,CAAC;IACJ,CAAC,MAAM,IAAIR,aAAa,CAACI,UAAU,CAAC,EAAE;MACpCF,MAAM,CAACC,GAAG,CAAC,GAAGC,UAAU,CAACK,KAAK;IAChC,CAAC,MAAM;MACLP,MAAM,CAACC,GAAG,CAAC,GAAGC,UAAU;IAC1B;EACF;EACA,OAAOF,MAAM;AACf\\\"}\"\n};\nvar getInlinePropsUpdate = function () {\n  var _e = [new global.Error(), -2, -27];\n  var _f = function _f(inlineProps) {\n    var update = {};\n    for (var _ref6 of Object.entries(inlineProps)) {\n      var _ref5 = (0, _slicedToArray2.default)(_ref6, 2);\n      var key = _ref5[0];\n      var styleValue = _ref5[1];\n      if (key === 'transform') {\n        update[key] = styleValue.map(function (transform) {\n          return getInlinePropsUpdate(transform);\n        });\n      } else if ((0, _reanimated.isSharedValue)(styleValue)) {\n        update[key] = styleValue.value;\n      } else {\n        update[key] = styleValue;\n      }\n    }\n    return update;\n  };\n  _f._closure = {\n    isSharedValue: _reanimated.isSharedValue\n  };\n  _f.__initData = _worklet_10214432427375_init_data;\n  _f.__workletHash = 10214432427375;\n  _f.__stackDetails = _e;\n  _f.__version = \"3.3.0\";\n  return _f;\n}();\nvar _worklet_13635933857374_init_data = {\n  code: \"function anonymous() {\\n  const {\\n    viewTag\\n  } = this._closure;\\n  _removeShadowNodeFromRegistry(viewTag);\\n}\",\n  location: \"D:\\\\Moco\\\\PartyPilot\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\createAnimatedComponent.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"viewTag\\\",\\\"_closure\\\",\\\"_removeShadowNodeFromRegistry\\\"],\\\"sources\\\":[\\\"D:/Moco/PartyPilot/node_modules/react-native-reanimated/lib/module/createAnimatedComponent.js\\\"],\\\"mappings\\\":\\\"AAsPkB,SAAAA,SAAMA,CAAA;EAAA;IAAAC;EAAA,SAAAC,QAAA;EACZC,6BAA6B,CAACF,OAAO,CAAC;AACxC\\\"}\"\n};\nvar _worklet_3330813578186_init_data = {\n  code: \"function anonymous() {\\n  const {\\n    getInlinePropsUpdate,\\n    newInlineProps,\\n    updateProps,\\n    sharableViewDescriptors,\\n    maybeViewRef\\n  } = this._closure;\\n  const update = getInlinePropsUpdate(newInlineProps);\\n  updateProps(sharableViewDescriptors, update, maybeViewRef);\\n}\",\n  location: \"D:\\\\Moco\\\\PartyPilot\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\createAnimatedComponent.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"getInlinePropsUpdate\\\",\\\"newInlineProps\\\",\\\"updateProps\\\",\\\"sharableViewDescriptors\\\",\\\"maybeViewRef\\\",\\\"_closure\\\",\\\"update\\\"],\\\"sources\\\":[\\\"D:/Moco/PartyPilot/node_modules/react-native-reanimated/lib/module/createAnimatedComponent.js\\\"],\\\"mappings\\\":\\\"AAwagC,SAAAA,SAAMA,CAAA;EAAA;IAAAC,oBAAA;IAAAC,cAAA;IAAAC,WAAA;IAAAC,uBAAA;IAAAC;EAAA,SAAAC,QAAA;EAG5B,MAAMC,MAAM,GAAGN,oBAAoB,CAACC,cAAc,CAAC;EACnDC,WAAW,CAACC,uBAAuB,EAAEG,MAAM,EAAEF,YAAY,CAAC;AAC5D\\\"}\"\n};\nfunction createAnimatedComponent(Component, options) {\n  (0, _invariant.default)(typeof Component !== 'function' || Component.prototype && Component.prototype.isReactComponent, `Looks like you're passing a function component \\`${Component.name}\\` to \\`createAnimatedComponent\\` function which supports only class components. Please wrap your function component with \\`React.forwardRef()\\` or use a class component instead.`);\n  var AnimatedComponent = function (_React$Component) {\n    (0, _inherits2.default)(AnimatedComponent, _React$Component);\n    var _super = _createSuper(AnimatedComponent);\n    function AnimatedComponent(props) {\n      var _this;\n      (0, _classCallCheck2.default)(this, AnimatedComponent);\n      _this = _super.call(this, props);\n      _defineProperty((0, _assertThisInitialized2.default)(_this), \"_styles\", null);\n      _defineProperty((0, _assertThisInitialized2.default)(_this), \"_animatedProps\", void 0);\n      _defineProperty((0, _assertThisInitialized2.default)(_this), \"_viewTag\", -1);\n      _defineProperty((0, _assertThisInitialized2.default)(_this), \"_isFirstRender\", true);\n      _defineProperty((0, _assertThisInitialized2.default)(_this), \"animatedStyle\", {\n        value: {}\n      });\n      _defineProperty((0, _assertThisInitialized2.default)(_this), \"initialStyle\", {});\n      _defineProperty((0, _assertThisInitialized2.default)(_this), \"_component\", null);\n      _defineProperty((0, _assertThisInitialized2.default)(_this), \"_inlinePropsViewDescriptors\", null);\n      _defineProperty((0, _assertThisInitialized2.default)(_this), \"_inlinePropsMapperId\", null);\n      _defineProperty((0, _assertThisInitialized2.default)(_this), \"_inlineProps\", {});\n      _defineProperty((0, _assertThisInitialized2.default)(_this), \"_setComponentRef\", (0, _setAndForwardRef.default)({\n        getForwardedRef: function getForwardedRef() {\n          return _this.props.forwardedRef;\n        },\n        setLocalRef: function setLocalRef(ref) {\n          var tag = (0, _findNodeHandle.default)(ref);\n          var _this$props = _this.props,\n            layout = _this$props.layout,\n            entering = _this$props.entering,\n            exiting = _this$props.exiting,\n            sharedTransitionTag = _this$props.sharedTransitionTag;\n          if ((layout || entering || exiting || sharedTransitionTag) && tag != null) {\n            if (!(0, _PlatformChecker.shouldBeUseWeb)()) {\n              (0, _core.enableLayoutAnimations)(true, false);\n            }\n            if (layout) {\n              (0, _core.configureLayoutAnimations)(tag, _layoutReanimation.LayoutAnimationType.LAYOUT, maybeBuild(layout));\n            }\n            if (entering) {\n              (0, _core.configureLayoutAnimations)(tag, _layoutReanimation.LayoutAnimationType.ENTERING, maybeBuild(entering));\n            }\n            if (exiting) {\n              (0, _core.configureLayoutAnimations)(tag, _layoutReanimation.LayoutAnimationType.EXITING, maybeBuild(exiting));\n            }\n            if (sharedTransitionTag) {\n              var _this$props$sharedTra;\n              var sharedElementTransition = (_this$props$sharedTra = _this.props.sharedTransitionStyle) != null ? _this$props$sharedTra : _layoutReanimation.DefaultSharedTransition;\n              (0, _core.configureLayoutAnimations)(tag, _layoutReanimation.LayoutAnimationType.SHARED_ELEMENT_TRANSITION, maybeBuild(sharedElementTransition), sharedTransitionTag);\n            }\n          }\n          if (ref !== _this._component) {\n            _this._component = ref;\n          }\n        }\n      }));\n      if ((0, _PlatformChecker.isJest)()) {\n        _this.animatedStyle = {\n          value: {}\n        };\n      }\n      return _this;\n    }\n    (0, _createClass2.default)(AnimatedComponent, [{\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this._detachNativeEvents();\n        this._detachStyles();\n        this._detachInlineProps();\n      }\n    }, {\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this._attachNativeEvents();\n        this._attachAnimatedStyles();\n        this._attachInlineProps();\n      }\n    }, {\n      key: \"_getEventViewRef\",\n      value: function _getEventViewRef() {\n        var _this$_component;\n        return (_this$_component = this._component) !== null && _this$_component !== void 0 && _this$_component.getScrollableNode ? this._component.getScrollableNode() : this._component;\n      }\n    }, {\n      key: \"_attachNativeEvents\",\n      value: function _attachNativeEvents() {\n        var node = this._getEventViewRef();\n        var viewTag = null;\n        for (var key in this.props) {\n          var prop = this.props[key];\n          if (has('current', prop) && prop.current instanceof _WorkletEventHandler.default) {\n            if (viewTag === null) {\n              viewTag = (0, _findNodeHandle.default)(options !== null && options !== void 0 && options.setNativeProps ? this : node);\n            }\n            prop.current.registerForEvents(viewTag, key);\n          }\n        }\n      }\n    }, {\n      key: \"_detachNativeEvents\",\n      value: function _detachNativeEvents() {\n        for (var key in this.props) {\n          var prop = this.props[key];\n          if (has('current', prop) && prop.current instanceof _WorkletEventHandler.default) {\n            prop.current.unregisterFromEvents();\n          }\n        }\n      }\n    }, {\n      key: \"_detachStyles\",\n      value: function _detachStyles() {\n        if (_Platform.default.OS === 'web' && this._styles !== null) {\n          for (var style of this._styles) {\n            if (style !== null && style !== void 0 && style.viewsRef) {\n              style.viewsRef.remove(this);\n            }\n          }\n        } else if (this._viewTag !== -1 && this._styles !== null) {\n          var _this$props$animatedP;\n          for (var _style2 of this._styles) {\n            _style2.viewDescriptors.remove(this._viewTag);\n          }\n          if ((_this$props$animatedP = this.props.animatedProps) !== null && _this$props$animatedP !== void 0 && _this$props$animatedP.viewDescriptors) {\n            this.props.animatedProps.viewDescriptors.remove(this._viewTag);\n          }\n          if (global._IS_FABRIC) {\n            var viewTag = this._viewTag;\n            (0, _core.runOnUI)(function () {\n              var _e = [new global.Error(), -2, -27];\n              var _f = function _f() {\n                _removeShadowNodeFromRegistry(viewTag);\n              };\n              _f._closure = {\n                viewTag: viewTag\n              };\n              _f.__initData = _worklet_13635933857374_init_data;\n              _f.__workletHash = 13635933857374;\n              _f.__stackDetails = _e;\n              _f.__version = \"3.3.0\";\n              return _f;\n            }())();\n          }\n        }\n      }\n    }, {\n      key: \"_reattachNativeEvents\",\n      value: function _reattachNativeEvents(prevProps) {\n        for (var key in prevProps) {\n          var prop = this.props[key];\n          if (has('current', prop) && prop.current instanceof _WorkletEventHandler.default && prop.current.reattachNeeded) {\n            prop.current.unregisterFromEvents();\n          }\n        }\n        var viewTag = null;\n        for (var _key3 in this.props) {\n          var _prop = this.props[_key3];\n          if (has('current', _prop) && _prop.current instanceof _WorkletEventHandler.default && _prop.current.reattachNeeded) {\n            if (viewTag === null) {\n              var node = this._getEventViewRef();\n              viewTag = (0, _findNodeHandle.default)(options !== null && options !== void 0 && options.setNativeProps ? this : node);\n            }\n            _prop.current.registerForEvents(viewTag, _key3);\n            _prop.current.reattachNeeded = false;\n          }\n        }\n      }\n    }, {\n      key: \"_updateFromNative\",\n      value: function _updateFromNative(props) {\n        if (options !== null && options !== void 0 && options.setNativeProps) {\n          options.setNativeProps(this._component, props);\n        } else {\n          var _this$_component2, _this$_component2$set;\n          (_this$_component2 = this._component) === null || _this$_component2 === void 0 ? void 0 : (_this$_component2$set = _this$_component2.setNativeProps) === null || _this$_component2$set === void 0 ? void 0 : _this$_component2$set.call(_this$_component2, props);\n        }\n      }\n    }, {\n      key: \"_getViewInfo\",\n      value: function _getViewInfo() {\n        var _this$_component3;\n        var viewTag;\n        var viewName;\n        var shadowNodeWrapper = null;\n        var viewConfig;\n        var component = (_this$_component3 = this._component) !== null && _this$_component3 !== void 0 && _this$_component3.getAnimatableRef ? this._component.getAnimatableRef() : this;\n        if (_Platform.default.OS === 'web') {\n          viewTag = (0, _findNodeHandle.default)(component);\n          viewName = null;\n          shadowNodeWrapper = null;\n          viewConfig = null;\n        } else {\n          var _hostInstance$viewCon;\n          var hostInstance = _RNRenderer.RNRenderer.findHostInstance_DEPRECATED(component);\n          if (!hostInstance) {\n            throw new Error('Cannot find host instance for this component. Maybe it renders nothing?');\n          }\n          viewTag = hostInstance === null || hostInstance === void 0 ? void 0 : hostInstance._nativeTag;\n          viewName = hostInstance === null || hostInstance === void 0 ? void 0 : (_hostInstance$viewCon = hostInstance.viewConfig) === null || _hostInstance$viewCon === void 0 ? void 0 : _hostInstance$viewCon.uiViewClassName;\n          viewConfig = hostInstance === null || hostInstance === void 0 ? void 0 : hostInstance.viewConfig;\n          if (global._IS_FABRIC) {\n            shadowNodeWrapper = (0, _fabricUtils.getShadowNodeWrapperFromRef)(this);\n          }\n        }\n        return {\n          viewTag: viewTag,\n          viewName: viewName,\n          shadowNodeWrapper: shadowNodeWrapper,\n          viewConfig: viewConfig\n        };\n      }\n    }, {\n      key: \"_attachAnimatedStyles\",\n      value: function _attachAnimatedStyles() {\n        var _this2 = this;\n        var _this$props$animatedP2, _this$props$animatedP3;\n        var styles = this.props.style ? onlyAnimatedStyles(flattenArray(this.props.style)) : [];\n        var prevStyles = this._styles;\n        this._styles = styles;\n        var prevAnimatedProps = this._animatedProps;\n        this._animatedProps = this.props.animatedProps;\n        var _this$_getViewInfo = this._getViewInfo(),\n          viewTag = _this$_getViewInfo.viewTag,\n          viewName = _this$_getViewInfo.viewName,\n          shadowNodeWrapper = _this$_getViewInfo.shadowNodeWrapper,\n          viewConfig = _this$_getViewInfo.viewConfig;\n        var hasReanimated2Props = ((_this$props$animatedP2 = this.props.animatedProps) === null || _this$props$animatedP2 === void 0 ? void 0 : _this$props$animatedP2.viewDescriptors) || styles.length;\n        if (hasReanimated2Props && viewConfig) {\n          (0, _ConfigHelper.adaptViewConfig)(viewConfig);\n        }\n        this._viewTag = viewTag;\n        if (prevStyles) {\n          var hasOneSameStyle = styles.length === 1 && prevStyles.length === 1 && isSameAnimatedStyle(styles[0], prevStyles[0]);\n          if (!hasOneSameStyle) {\n            var _loop = function _loop(prevStyle) {\n              var isPresent = styles.some(function (style) {\n                return isSameAnimatedStyle(style, prevStyle);\n              });\n              if (!isPresent) {\n                prevStyle.viewDescriptors.remove(viewTag);\n              }\n            };\n            for (var prevStyle of prevStyles) {\n              _loop(prevStyle);\n            }\n          }\n        }\n        styles.forEach(function (style) {\n          style.viewDescriptors.add({\n            tag: viewTag,\n            name: viewName,\n            shadowNodeWrapper: shadowNodeWrapper\n          });\n          if ((0, _PlatformChecker.isJest)()) {\n            _this2.animatedStyle.value = Object.assign({}, _this2.animatedStyle.value, style.initial.value);\n            style.animatedStyle.current = _this2.animatedStyle;\n          }\n        });\n        if (prevAnimatedProps && !isSameAnimatedProps(prevAnimatedProps, this.props.animatedProps)) {\n          prevAnimatedProps.viewDescriptors.remove(viewTag);\n        }\n        if ((_this$props$animatedP3 = this.props.animatedProps) !== null && _this$props$animatedP3 !== void 0 && _this$props$animatedP3.viewDescriptors) {\n          this.props.animatedProps.viewDescriptors.add({\n            tag: viewTag,\n            name: viewName,\n            shadowNodeWrapper: shadowNodeWrapper\n          });\n        }\n      }\n    }, {\n      key: \"_attachInlineProps\",\n      value: function _attachInlineProps() {\n        var newInlineProps = extractSharedValuesMapFromProps(this.props);\n        var hasChanged = inlinePropsHasChanged(newInlineProps, this._inlineProps);\n        if (hasChanged) {\n          if (!this._inlinePropsViewDescriptors) {\n            this._inlinePropsViewDescriptors = (0, _ViewDescriptorsSet.makeViewDescriptorsSet)();\n            var _this$_getViewInfo2 = this._getViewInfo(),\n              viewTag = _this$_getViewInfo2.viewTag,\n              viewName = _this$_getViewInfo2.viewName,\n              shadowNodeWrapper = _this$_getViewInfo2.shadowNodeWrapper,\n              viewConfig = _this$_getViewInfo2.viewConfig;\n            if (Object.keys(newInlineProps).length && viewConfig) {\n              (0, _ConfigHelper.adaptViewConfig)(viewConfig);\n            }\n            this._inlinePropsViewDescriptors.add({\n              tag: viewTag,\n              name: viewName,\n              shadowNodeWrapper: shadowNodeWrapper\n            });\n          }\n          var sharableViewDescriptors = this._inlinePropsViewDescriptors.sharableViewDescriptors;\n          var maybeViewRef = _NativeReanimated.default.native ? undefined : {\n            items: new Set([this])\n          };\n          var updaterFunction = function () {\n            var _e = [new global.Error(), -6, -27];\n            var _f = function _f() {\n              var update = getInlinePropsUpdate(newInlineProps);\n              (0, _UpdateProps.default)(sharableViewDescriptors, update, maybeViewRef);\n            };\n            _f._closure = {\n              getInlinePropsUpdate: getInlinePropsUpdate,\n              newInlineProps: newInlineProps,\n              updateProps: _UpdateProps.default,\n              sharableViewDescriptors: sharableViewDescriptors,\n              maybeViewRef: maybeViewRef\n            };\n            _f.__initData = _worklet_3330813578186_init_data;\n            _f.__workletHash = 3330813578186;\n            _f.__stackDetails = _e;\n            _f.__version = \"3.3.0\";\n            return _f;\n          }();\n          this._inlineProps = newInlineProps;\n          if (this._inlinePropsMapperId) {\n            (0, _core.stopMapper)(this._inlinePropsMapperId);\n          }\n          this._inlinePropsMapperId = null;\n          if (Object.keys(newInlineProps).length) {\n            this._inlinePropsMapperId = (0, _core.startMapper)(updaterFunction, Object.values(newInlineProps));\n          }\n        }\n      }\n    }, {\n      key: \"_detachInlineProps\",\n      value: function _detachInlineProps() {\n        if (this._inlinePropsMapperId) {\n          (0, _core.stopMapper)(this._inlinePropsMapperId);\n        }\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        this._reattachNativeEvents(prevProps);\n        this._attachAnimatedStyles();\n        this._attachInlineProps();\n      }\n    }, {\n      key: \"_filterNonAnimatedProps\",\n      value: function _filterNonAnimatedProps(inputProps) {\n        var _this3 = this;\n        var props = {};\n        var _loop2 = function _loop2() {\n          var value = inputProps[key];\n          if (key === 'style') {\n            var styleProp = inputProps.style;\n            var styles = flattenArray(styleProp != null ? styleProp : []);\n            var processedStyle = styles.map(function (style) {\n              if (style && style.viewDescriptors) {\n                style.viewsRef.add(_this3);\n                if (_this3._isFirstRender) {\n                  _this3.initialStyle = Object.assign({}, style.initial.value, (0, _animation.initialUpdaterRun)(style.initial.updater));\n                }\n                return _this3.initialStyle;\n              } else if (hasInlineStyles(style)) {\n                if (_this3._isFirstRender) {\n                  return getInlinePropsUpdate(style);\n                }\n                var newStyle = {};\n                for (var _ref9 of Object.entries(style)) {\n                  var _ref8 = (0, _slicedToArray2.default)(_ref9, 2);\n                  var _key4 = _ref8[0];\n                  var styleValue = _ref8[1];\n                  if (!(0, _reanimated.isSharedValue)(styleValue) && !(_key4 === 'transform' && isInlineStyleTransform(styleValue))) {\n                    newStyle[_key4] = styleValue;\n                  }\n                }\n                return newStyle;\n              } else {\n                return style;\n              }\n            });\n            props[key] = _StyleSheet.default.flatten(processedStyle);\n          } else if (key === 'animatedProps') {\n            var animatedProp = inputProps.animatedProps;\n            if (animatedProp.initial !== undefined) {\n              Object.keys(animatedProp.initial.value).forEach(function (key) {\n                var _animatedProp$initial, _animatedProp$viewsRe;\n                props[key] = (_animatedProp$initial = animatedProp.initial) === null || _animatedProp$initial === void 0 ? void 0 : _animatedProp$initial.value[key];\n                (_animatedProp$viewsRe = animatedProp.viewsRef) === null || _animatedProp$viewsRe === void 0 ? void 0 : _animatedProp$viewsRe.add(_this3);\n              });\n            }\n          } else if (has('current', value) && value.current instanceof _WorkletEventHandler.default) {\n            if (value.current.eventNames.length > 0) {\n              value.current.eventNames.forEach(function (eventName) {\n                props[eventName] = has('listeners', value.current) ? value.current.listeners[eventName] : dummyListener;\n              });\n            } else {\n              props[key] = dummyListener;\n            }\n          } else if ((0, _reanimated.isSharedValue)(value)) {\n            if (_this3._isFirstRender) {\n              props[key] = value.value;\n            }\n          } else if (key !== 'onGestureHandlerStateChange' || !(0, _PlatformChecker.isChromeDebugger)()) {\n            props[key] = value;\n          }\n        };\n        for (var key in inputProps) {\n          _loop2();\n        }\n        return props;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var props = this._filterNonAnimatedProps(this.props);\n        if ((0, _PlatformChecker.isJest)()) {\n          props.animatedStyle = this.animatedStyle;\n        }\n        if (this._isFirstRender) {\n          this._isFirstRender = false;\n        }\n        var platformProps = _Platform.default.select({\n          web: {},\n          default: {\n            collapsable: false\n          }\n        });\n        return _react.default.createElement(Component, _extends({}, props, {\n          ref: this._setComponentRef\n        }, platformProps));\n      }\n    }]);\n    return AnimatedComponent;\n  }(_react.default.Component);\n  _defineProperty(AnimatedComponent, \"displayName\", void 0);\n  AnimatedComponent.displayName = `AnimatedComponent(${Component.displayName || Component.name || 'Component'})`;\n  return _react.default.forwardRef(function (props, ref) {\n    return _react.default.createElement(AnimatedComponent, _extends({}, props, ref === null ? null : {\n      forwardedRef: ref\n    }));\n  });\n}","map":{"version":3,"names":["_react","_interopRequireDefault","require","_findNodeHandle","_Platform","_StyleSheet","_WorkletEventHandler","_setAndForwardRef","_invariant","_ConfigHelper","_RNRenderer","_core","_PlatformChecker","_animation","_layoutReanimation","_ViewDescriptorsSet","_fabricUtils","_UpdateProps","_NativeReanimated","_reanimated","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf2","default","result","NewTarget","constructor","Reflect","construct","arguments","apply","_possibleConstructorReturn2","sham","Proxy","Boolean","prototype","valueOf","call","e","dummyListener","maybeBuild","layoutAnimationOrBuilder","isAnimationBuilder","value","build","flattenArray","array","Array","isArray","resultArr","_flattenArray","arr","forEach","item","push","onlyAnimatedStyles","styles","filter","style","viewDescriptors","isSameAnimatedStyle","style1","style2","viewsRef","isSameAnimatedProps","has","key","x","undefined","isInlineStyleTransform","transform","some","t","hasInlineStyles","Object","keys","styleValue","isSharedValue","extractSharedValuesMapFromProps","props","inlineProps","_props$style","_ref3","entries","_ref2","_slicedToArray2","inlinePropsHasChanged","styles1","styles2","length","_worklet_10214432427375_init_data","code","location","sourceMap","getInlinePropsUpdate","_e","global","Error","_f","update","_ref6","_ref5","map","_closure","__initData","__workletHash","__stackDetails","__version","_worklet_13635933857374_init_data","_worklet_3330813578186_init_data","createAnimatedComponent","Component","options","invariant","isReactComponent","name","AnimatedComponent","_React$Component","_inherits2","_super","_this","_classCallCheck2","_defineProperty","_assertThisInitialized2","setAndForwardRef","getForwardedRef","forwardedRef","setLocalRef","ref","tag","findNodeHandle","_this$props","layout","entering","exiting","sharedTransitionTag","shouldBeUseWeb","enableLayoutAnimations","configureLayoutAnimations","LayoutAnimationType","LAYOUT","ENTERING","EXITING","_this$props$sharedTra","sharedElementTransition","sharedTransitionStyle","DefaultSharedTransition","SHARED_ELEMENT_TRANSITION","_component","isJest","animatedStyle","_createClass2","componentWillUnmount","_detachNativeEvents","_detachStyles","_detachInlineProps","componentDidMount","_attachNativeEvents","_attachAnimatedStyles","_attachInlineProps","_getEventViewRef","_this$_component","getScrollableNode","node","viewTag","prop","current","WorkletEventHandler","setNativeProps","registerForEvents","unregisterFromEvents","Platform","OS","_styles","remove","_viewTag","_this$props$animatedP","animatedProps","_IS_FABRIC","runOnUI","_removeShadowNodeFromRegistry","_reattachNativeEvents","prevProps","reattachNeeded","_updateFromNative","_this$_component2","_this$_component2$set","_getViewInfo","_this$_component3","viewName","shadowNodeWrapper","viewConfig","component","getAnimatableRef","_hostInstance$viewCon","hostInstance","RNRenderer","findHostInstance_DEPRECATED","_nativeTag","uiViewClassName","getShadowNodeWrapperFromRef","_this2","_this$props$animatedP2","_this$props$animatedP3","prevStyles","prevAnimatedProps","_animatedProps","_this$_getViewInfo","hasReanimated2Props","adaptViewConfig","hasOneSameStyle","_loop","prevStyle","isPresent","add","assign","initial","newInlineProps","hasChanged","_inlineProps","_inlinePropsViewDescriptors","makeViewDescriptorsSet","_this$_getViewInfo2","sharableViewDescriptors","maybeViewRef","NativeReanimatedModule","native","items","Set","updaterFunction","updateProps","_inlinePropsMapperId","stopMapper","startMapper","values","componentDidUpdate","_filterNonAnimatedProps","inputProps","_this3","_loop2","styleProp","processedStyle","_isFirstRender","initialStyle","initialUpdaterRun","updater","newStyle","_ref9","_ref8","StyleSheet","flatten","animatedProp","_animatedProp$initial","_animatedProp$viewsRe","eventNames","eventName","listeners","isChromeDebugger","render","platformProps","select","web","collapsable","React","createElement","_extends","_setComponentRef","displayName","forwardRef"],"sources":["D:\\Moco\\PartyPilot\\node_modules\\react-native-reanimated\\lib\\module\\createAnimatedComponent.tsx"],"sourcesContent":["import React, { Component, ComponentType, MutableRefObject, Ref } from 'react';\nimport { findNodeHandle, Platform, StyleSheet } from 'react-native';\nimport WorkletEventHandler from './reanimated2/WorkletEventHandler';\nimport setAndForwardRef from './setAndForwardRef';\nimport './reanimated2/layoutReanimation/animationsManager';\nimport invariant from 'invariant';\nimport { adaptViewConfig } from './ConfigHelper';\nimport { RNRenderer } from './reanimated2/platform-specific/RNRenderer';\nimport {\n  configureLayoutAnimations,\n  enableLayoutAnimations,\n  runOnUI,\n  startMapper,\n  stopMapper,\n} from './reanimated2/core';\nimport {\n  isJest,\n  isChromeDebugger,\n  shouldBeUseWeb,\n} from './reanimated2/PlatformChecker';\nimport { initialUpdaterRun } from './reanimated2/animation';\nimport {\n  BaseAnimationBuilder,\n  DefaultSharedTransition,\n  EntryExitAnimationFunction,\n  ILayoutAnimationBuilder,\n  LayoutAnimationFunction,\n  LayoutAnimationType,\n} from './reanimated2/layoutReanimation';\nimport {\n  SharedValue,\n  StyleProps,\n  ShadowNodeWrapper,\n} from './reanimated2/commonTypes';\nimport {\n  makeViewDescriptorsSet,\n  ViewDescriptorsSet,\n  ViewRefSet,\n} from './reanimated2/ViewDescriptorsSet';\nimport { getShadowNodeWrapperFromRef } from './reanimated2/fabricUtils';\nimport updateProps from './reanimated2/UpdateProps';\nimport NativeReanimatedModule from './reanimated2/NativeReanimated';\nimport { isSharedValue } from './reanimated2';\n\nfunction dummyListener() {\n  // empty listener we use to assign to listener properties for which animated\n  // event is used.\n}\n\nfunction maybeBuild(\n  layoutAnimationOrBuilder:\n    | ILayoutAnimationBuilder\n    | LayoutAnimationFunction\n    | Keyframe\n): LayoutAnimationFunction | Keyframe {\n  const isAnimationBuilder = (\n    value: ILayoutAnimationBuilder | LayoutAnimationFunction | Keyframe\n  ): value is ILayoutAnimationBuilder =>\n    'build' in layoutAnimationOrBuilder &&\n    typeof layoutAnimationOrBuilder.build === 'function';\n\n  if (isAnimationBuilder(layoutAnimationOrBuilder)) {\n    return layoutAnimationOrBuilder.build();\n  } else {\n    return layoutAnimationOrBuilder;\n  }\n}\n\ntype NestedArray<T> = T | NestedArray<T>[];\nfunction flattenArray<T>(array: NestedArray<T>): T[] {\n  if (!Array.isArray(array)) {\n    return [array];\n  }\n  const resultArr: T[] = [];\n\n  const _flattenArray = (arr: NestedArray<T>[]): void => {\n    arr.forEach((item) => {\n      if (Array.isArray(item)) {\n        _flattenArray(item);\n      } else {\n        resultArr.push(item);\n      }\n    });\n  };\n  _flattenArray(array);\n  return resultArr;\n}\n\nfunction onlyAnimatedStyles(styles: StyleProps[]) {\n  return styles.filter((style) => style?.viewDescriptors);\n}\n\nfunction isSameAnimatedStyle(\n  style1?: StyleProps,\n  style2?: StyleProps\n): boolean {\n  // We cannot use equality check to compare useAnimatedStyle outputs directly.\n  // Instead, we can compare its viewsRefs.\n  return style1?.viewsRef === style2?.viewsRef;\n}\n\nconst isSameAnimatedProps = isSameAnimatedStyle;\n\nconst has = <K extends string>(\n  key: K,\n  x: unknown\n): x is { [key in K]: unknown } => {\n  if (typeof x === 'function' || typeof x === 'object') {\n    if (x === null || x === undefined) {\n      return false;\n    } else {\n      return key in x;\n    }\n  }\n  return false;\n};\n\nfunction isInlineStyleTransform(transform: any): boolean {\n  if (!transform) {\n    return false;\n  }\n  return transform.some((t: Record<string, any>) => hasInlineStyles(t));\n}\n\nfunction hasInlineStyles(style: StyleProps): boolean {\n  if (!style) {\n    return false;\n  }\n  return Object.keys(style).some((key) => {\n    const styleValue = style[key];\n    return (\n      isSharedValue(styleValue) ||\n      (key === 'transform' && isInlineStyleTransform(styleValue))\n    );\n  });\n}\n\nfunction extractSharedValuesMapFromProps(\n  props: AnimatedComponentProps<InitialComponentProps>\n): Record<string, any> {\n  const inlineProps: Record<string, any> = {};\n\n  for (const key in props) {\n    const value = props[key];\n    if (key === 'style') {\n      const styles = flattenArray<StyleProps>(props.style ?? []);\n      styles.forEach((style) => {\n        if (!style) {\n          return;\n        }\n        for (const [key, styleValue] of Object.entries(style)) {\n          if (isSharedValue(styleValue)) {\n            inlineProps[key] = styleValue;\n          } else if (\n            key === 'transform' &&\n            isInlineStyleTransform(styleValue)\n          ) {\n            inlineProps[key] = styleValue;\n          }\n        }\n      });\n    } else if (isSharedValue(value)) {\n      inlineProps[key] = value;\n    }\n  }\n\n  return inlineProps;\n}\n\nfunction inlinePropsHasChanged(styles1: StyleProps, styles2: StyleProps) {\n  if (Object.keys(styles1).length !== Object.keys(styles2).length) {\n    return true;\n  }\n\n  for (const key of Object.keys(styles1)) {\n    if (styles1[key] !== styles2[key]) return true;\n  }\n\n  return false;\n}\n\nfunction getInlinePropsUpdate(inlineProps: Record<string, any>) {\n  'worklet';\n  const update: Record<string, any> = {};\n  for (const [key, styleValue] of Object.entries(inlineProps)) {\n    if (key === 'transform') {\n      update[key] = styleValue.map((transform: Record<string, any>) => {\n        return getInlinePropsUpdate(transform);\n      });\n    } else if (isSharedValue(styleValue)) {\n      update[key] = styleValue.value;\n    } else {\n      update[key] = styleValue;\n    }\n  }\n  return update;\n}\n\ninterface AnimatedProps extends Record<string, unknown> {\n  viewDescriptors?: ViewDescriptorsSet;\n  viewsRef?: ViewRefSet<unknown>;\n  initial?: SharedValue<StyleProps>;\n}\n\nexport type AnimatedComponentProps<P extends Record<string, unknown>> = P & {\n  forwardedRef?: Ref<Component>;\n  style?: NestedArray<StyleProps>;\n  animatedProps?: Partial<AnimatedComponentProps<AnimatedProps>>;\n  animatedStyle?: StyleProps;\n  layout?:\n    | BaseAnimationBuilder\n    | ILayoutAnimationBuilder\n    | typeof BaseAnimationBuilder;\n  entering?:\n    | BaseAnimationBuilder\n    | typeof BaseAnimationBuilder\n    | EntryExitAnimationFunction\n    | Keyframe;\n  exiting?:\n    | BaseAnimationBuilder\n    | typeof BaseAnimationBuilder\n    | EntryExitAnimationFunction\n    | Keyframe;\n  sharedTransitionTag?: string;\n  sharedTransitionStyle?: ILayoutAnimationBuilder;\n};\n\ntype Options<P> = {\n  setNativeProps: (ref: ComponentRef, props: P) => void;\n};\n\ninterface ComponentRef extends Component {\n  setNativeProps?: (props: Record<string, unknown>) => void;\n  getScrollableNode?: () => ComponentRef;\n  getAnimatableRef?: () => ComponentRef;\n}\n\nexport interface InitialComponentProps extends Record<string, unknown> {\n  ref?: Ref<Component>;\n  collapsable?: boolean;\n}\n\nexport default function createAnimatedComponent(\n  Component: ComponentType<InitialComponentProps>,\n  options?: Options<InitialComponentProps>\n): ComponentType<AnimatedComponentProps<InitialComponentProps>> {\n  invariant(\n    typeof Component !== 'function' ||\n      (Component.prototype && Component.prototype.isReactComponent),\n    `Looks like you're passing a function component \\`${Component.name}\\` to \\`createAnimatedComponent\\` function which supports only class components. Please wrap your function component with \\`React.forwardRef()\\` or use a class component instead.`\n  );\n\n  class AnimatedComponent extends React.Component<\n    AnimatedComponentProps<InitialComponentProps>\n  > {\n    _styles: StyleProps[] | null = null;\n    _animatedProps?: Partial<AnimatedComponentProps<AnimatedProps>>;\n    _viewTag = -1;\n    _isFirstRender = true;\n    animatedStyle: { value: StyleProps } = { value: {} };\n    initialStyle = {};\n    _component: ComponentRef | null = null;\n    _inlinePropsViewDescriptors: ViewDescriptorsSet | null = null;\n    _inlinePropsMapperId: number | null = null;\n    _inlineProps: StyleProps = {};\n    static displayName: string;\n\n    constructor(props: AnimatedComponentProps<InitialComponentProps>) {\n      super(props);\n      if (isJest()) {\n        this.animatedStyle = { value: {} };\n      }\n    }\n\n    componentWillUnmount() {\n      this._detachNativeEvents();\n      this._detachStyles();\n      this._detachInlineProps();\n    }\n\n    componentDidMount() {\n      this._attachNativeEvents();\n      this._attachAnimatedStyles();\n      this._attachInlineProps();\n    }\n\n    _getEventViewRef() {\n      // Make sure to get the scrollable node for components that implement\n      // `ScrollResponder.Mixin`.\n      return this._component?.getScrollableNode\n        ? this._component.getScrollableNode()\n        : this._component;\n    }\n\n    _attachNativeEvents() {\n      const node = this._getEventViewRef();\n      let viewTag = null; // We set it only if needed\n\n      for (const key in this.props) {\n        const prop = this.props[key];\n        if (\n          has('current', prop) &&\n          prop.current instanceof WorkletEventHandler\n        ) {\n          if (viewTag === null) {\n            viewTag = findNodeHandle(options?.setNativeProps ? this : node);\n          }\n          prop.current.registerForEvents(viewTag as number, key);\n        }\n      }\n    }\n\n    _detachNativeEvents() {\n      for (const key in this.props) {\n        const prop = this.props[key];\n        if (\n          has('current', prop) &&\n          prop.current instanceof WorkletEventHandler\n        ) {\n          prop.current.unregisterFromEvents();\n        }\n      }\n    }\n\n    _detachStyles() {\n      if (Platform.OS === 'web' && this._styles !== null) {\n        for (const style of this._styles) {\n          if (style?.viewsRef) {\n            style.viewsRef.remove(this);\n          }\n        }\n      } else if (this._viewTag !== -1 && this._styles !== null) {\n        for (const style of this._styles) {\n          style.viewDescriptors.remove(this._viewTag);\n        }\n        if (this.props.animatedProps?.viewDescriptors) {\n          this.props.animatedProps.viewDescriptors.remove(this._viewTag);\n        }\n        if (global._IS_FABRIC) {\n          const viewTag = this._viewTag;\n          runOnUI(() => {\n            _removeShadowNodeFromRegistry!(viewTag);\n          })();\n        }\n      }\n    }\n\n    _reattachNativeEvents(\n      prevProps: AnimatedComponentProps<InitialComponentProps>\n    ) {\n      for (const key in prevProps) {\n        const prop = this.props[key];\n        if (\n          has('current', prop) &&\n          prop.current instanceof WorkletEventHandler &&\n          prop.current.reattachNeeded\n        ) {\n          prop.current.unregisterFromEvents();\n        }\n      }\n\n      let viewTag = null;\n\n      for (const key in this.props) {\n        const prop = this.props[key];\n        if (\n          has('current', prop) &&\n          prop.current instanceof WorkletEventHandler &&\n          prop.current.reattachNeeded\n        ) {\n          if (viewTag === null) {\n            const node = this._getEventViewRef();\n            viewTag = findNodeHandle(options?.setNativeProps ? this : node);\n          }\n          prop.current.registerForEvents(viewTag as number, key);\n          prop.current.reattachNeeded = false;\n        }\n      }\n    }\n\n    _updateFromNative(props: StyleProps) {\n      if (options?.setNativeProps) {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        options.setNativeProps(this._component!, props);\n      } else {\n        // eslint-disable-next-line no-unused-expressions\n        this._component?.setNativeProps?.(props);\n      }\n    }\n\n    _getViewInfo() {\n      let viewTag: number | null;\n      let viewName: string | null;\n      let shadowNodeWrapper: ShadowNodeWrapper | null = null;\n      let viewConfig;\n      // Component can specify ref which should be animated when animated version of the component is created.\n      // Otherwise, we animate the component itself.\n      const component = this._component?.getAnimatableRef\n        ? this._component.getAnimatableRef()\n        : this;\n      if (Platform.OS === 'web') {\n        viewTag = findNodeHandle(component);\n        viewName = null;\n        shadowNodeWrapper = null;\n        viewConfig = null;\n      } else {\n        // hostInstance can be null for a component that doesn't render anything (render function returns null). Example: svg Stop: https://github.com/react-native-svg/react-native-svg/blob/develop/src/elements/Stop.tsx\n        const hostInstance = RNRenderer.findHostInstance_DEPRECATED(component);\n        if (!hostInstance) {\n          throw new Error(\n            'Cannot find host instance for this component. Maybe it renders nothing?'\n          );\n        }\n        // we can access view tag in the same way it's accessed here https://github.com/facebook/react/blob/e3f4eb7272d4ca0ee49f27577156b57eeb07cf73/packages/react-native-renderer/src/ReactFabric.js#L146\n        viewTag = hostInstance?._nativeTag;\n        /**\n         * RN uses viewConfig for components for storing different properties of the component(example: https://github.com/facebook/react-native/blob/master/Libraries/Components/ScrollView/ScrollViewViewConfig.js#L16).\n         * The name we're looking for is in the field named uiViewClassName.\n         */\n        viewName = hostInstance?.viewConfig?.uiViewClassName;\n\n        viewConfig = hostInstance?.viewConfig;\n\n        if (global._IS_FABRIC) {\n          shadowNodeWrapper = getShadowNodeWrapperFromRef(this);\n        }\n      }\n      return { viewTag, viewName, shadowNodeWrapper, viewConfig };\n    }\n\n    _attachAnimatedStyles() {\n      const styles = this.props.style\n        ? onlyAnimatedStyles(flattenArray<StyleProps>(this.props.style))\n        : [];\n      const prevStyles = this._styles;\n      this._styles = styles;\n\n      const prevAnimatedProps = this._animatedProps;\n      this._animatedProps = this.props.animatedProps;\n\n      const { viewTag, viewName, shadowNodeWrapper, viewConfig } =\n        this._getViewInfo();\n\n      // update UI props whitelist for this view\n      const hasReanimated2Props =\n        this.props.animatedProps?.viewDescriptors || styles.length;\n      if (hasReanimated2Props && viewConfig) {\n        adaptViewConfig(viewConfig);\n      }\n\n      this._viewTag = viewTag as number;\n\n      // remove old styles\n      if (prevStyles) {\n        // in most of the cases, views have only a single animated style and it remains unchanged\n        const hasOneSameStyle =\n          styles.length === 1 &&\n          prevStyles.length === 1 &&\n          isSameAnimatedStyle(styles[0], prevStyles[0]);\n\n        if (!hasOneSameStyle) {\n          // otherwise, remove each style that is not present in new styles\n          for (const prevStyle of prevStyles) {\n            const isPresent = styles.some((style) =>\n              isSameAnimatedStyle(style, prevStyle)\n            );\n            if (!isPresent) {\n              prevStyle.viewDescriptors.remove(viewTag);\n            }\n          }\n        }\n      }\n\n      styles.forEach((style) => {\n        style.viewDescriptors.add({\n          tag: viewTag,\n          name: viewName,\n          shadowNodeWrapper,\n        });\n        if (isJest()) {\n          /**\n           * We need to connect Jest's TestObject instance whose contains just props object\n           * with the updateProps() function where we update the properties of the component.\n           * We can't update props object directly because TestObject contains a copy of props - look at render function:\n           * const props = this._filterNonAnimatedProps(this.props);\n           */\n          this.animatedStyle.value = {\n            ...this.animatedStyle.value,\n            ...style.initial.value,\n          };\n          style.animatedStyle.current = this.animatedStyle;\n        }\n      });\n\n      // detach old animatedProps\n      if (\n        prevAnimatedProps &&\n        !isSameAnimatedProps(prevAnimatedProps, this.props.animatedProps)\n      ) {\n        prevAnimatedProps.viewDescriptors!.remove(viewTag as number);\n      }\n\n      // attach animatedProps property\n      if (this.props.animatedProps?.viewDescriptors) {\n        this.props.animatedProps.viewDescriptors.add({\n          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n          tag: viewTag!,\n          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n          name: viewName!,\n          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n          shadowNodeWrapper: shadowNodeWrapper!,\n        });\n      }\n    }\n\n    _attachInlineProps() {\n      const newInlineProps: Record<string, any> =\n        extractSharedValuesMapFromProps(this.props);\n      const hasChanged = inlinePropsHasChanged(\n        newInlineProps,\n        this._inlineProps\n      );\n\n      if (hasChanged) {\n        if (!this._inlinePropsViewDescriptors) {\n          this._inlinePropsViewDescriptors = makeViewDescriptorsSet();\n\n          const { viewTag, viewName, shadowNodeWrapper, viewConfig } =\n            this._getViewInfo();\n\n          if (Object.keys(newInlineProps).length && viewConfig) {\n            adaptViewConfig(viewConfig);\n          }\n\n          this._inlinePropsViewDescriptors.add({\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            tag: viewTag!,\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            name: viewName!,\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            shadowNodeWrapper: shadowNodeWrapper!,\n          });\n        }\n        const sharableViewDescriptors =\n          this._inlinePropsViewDescriptors.sharableViewDescriptors;\n\n        const maybeViewRef = NativeReanimatedModule.native\n          ? undefined\n          : ({ items: new Set([this]) } as ViewRefSet<any>); // see makeViewsRefSet\n\n        const updaterFunction = () => {\n          'worklet';\n          const update = getInlinePropsUpdate(newInlineProps);\n          updateProps(sharableViewDescriptors, update, maybeViewRef);\n        };\n        this._inlineProps = newInlineProps;\n        if (this._inlinePropsMapperId) {\n          stopMapper(this._inlinePropsMapperId);\n        }\n        this._inlinePropsMapperId = null;\n        if (Object.keys(newInlineProps).length) {\n          this._inlinePropsMapperId = startMapper(\n            updaterFunction,\n            Object.values(newInlineProps)\n          );\n        }\n      }\n    }\n\n    _detachInlineProps() {\n      if (this._inlinePropsMapperId) {\n        stopMapper(this._inlinePropsMapperId);\n      }\n    }\n\n    componentDidUpdate(\n      prevProps: AnimatedComponentProps<InitialComponentProps>\n    ) {\n      this._reattachNativeEvents(prevProps);\n      this._attachAnimatedStyles();\n      this._attachInlineProps();\n    }\n\n    _setComponentRef = setAndForwardRef<Component>({\n      getForwardedRef: () =>\n        this.props.forwardedRef as MutableRefObject<\n          Component<Record<string, unknown>, Record<string, unknown>, unknown>\n        >,\n      setLocalRef: (ref) => {\n        // TODO update config\n        const tag = findNodeHandle(ref);\n        const { layout, entering, exiting, sharedTransitionTag } = this.props;\n        if (\n          (layout || entering || exiting || sharedTransitionTag) &&\n          tag != null\n        ) {\n          if (!shouldBeUseWeb()) {\n            enableLayoutAnimations(true, false);\n          }\n          if (layout) {\n            configureLayoutAnimations(\n              tag,\n              LayoutAnimationType.LAYOUT,\n              maybeBuild(layout)\n            );\n          }\n          if (entering) {\n            configureLayoutAnimations(\n              tag,\n              LayoutAnimationType.ENTERING,\n              maybeBuild(entering)\n            );\n          }\n          if (exiting) {\n            configureLayoutAnimations(\n              tag,\n              LayoutAnimationType.EXITING,\n              maybeBuild(exiting)\n            );\n          }\n          if (sharedTransitionTag) {\n            const sharedElementTransition =\n              this.props.sharedTransitionStyle ?? DefaultSharedTransition;\n            configureLayoutAnimations(\n              tag,\n              LayoutAnimationType.SHARED_ELEMENT_TRANSITION,\n              maybeBuild(sharedElementTransition),\n              sharedTransitionTag\n            );\n          }\n        }\n\n        if (ref !== this._component) {\n          this._component = ref;\n        }\n      },\n    });\n\n    _filterNonAnimatedProps(\n      inputProps: AnimatedComponentProps<InitialComponentProps>\n    ): Record<string, unknown> {\n      const props: Record<string, unknown> = {};\n      for (const key in inputProps) {\n        const value = inputProps[key];\n        if (key === 'style') {\n          const styleProp = inputProps.style;\n          const styles = flattenArray<StyleProps>(styleProp ?? []);\n          const processedStyle: StyleProps = styles.map((style) => {\n            if (style && style.viewDescriptors) {\n              // this is how we recognize styles returned by useAnimatedStyle\n              style.viewsRef.add(this);\n              if (this._isFirstRender) {\n                this.initialStyle = {\n                  ...style.initial.value,\n                  ...initialUpdaterRun<StyleProps>(style.initial.updater),\n                };\n              }\n              return this.initialStyle;\n            } else if (hasInlineStyles(style)) {\n              if (this._isFirstRender) {\n                return getInlinePropsUpdate(style);\n              }\n              const newStyle: StyleProps = {};\n              for (const [key, styleValue] of Object.entries(style)) {\n                if (\n                  !isSharedValue(styleValue) &&\n                  !(key === 'transform' && isInlineStyleTransform(styleValue))\n                ) {\n                  newStyle[key] = styleValue;\n                }\n              }\n              return newStyle;\n            } else {\n              return style;\n            }\n          });\n          props[key] = StyleSheet.flatten(processedStyle);\n        } else if (key === 'animatedProps') {\n          const animatedProp = inputProps.animatedProps as Partial<\n            AnimatedComponentProps<AnimatedProps>\n          >;\n          if (animatedProp.initial !== undefined) {\n            Object.keys(animatedProp.initial.value).forEach((key) => {\n              props[key] = animatedProp.initial?.value[key];\n              animatedProp.viewsRef?.add(this);\n            });\n          }\n        } else if (\n          has('current', value) &&\n          value.current instanceof WorkletEventHandler\n        ) {\n          if (value.current.eventNames.length > 0) {\n            value.current.eventNames.forEach((eventName) => {\n              props[eventName] = has('listeners', value.current)\n                ? (value.current.listeners as Record<string, unknown>)[\n                    eventName\n                  ]\n                : dummyListener;\n            });\n          } else {\n            props[key] = dummyListener;\n          }\n        } else if (isSharedValue(value)) {\n          if (this._isFirstRender) {\n            props[key] = (value as SharedValue<any>).value;\n          }\n        } else if (\n          key !== 'onGestureHandlerStateChange' ||\n          !isChromeDebugger()\n        ) {\n          props[key] = value;\n        }\n      }\n      return props;\n    }\n\n    render() {\n      const props = this._filterNonAnimatedProps(this.props);\n      if (isJest()) {\n        props.animatedStyle = this.animatedStyle;\n      }\n\n      if (this._isFirstRender) {\n        this._isFirstRender = false;\n      }\n\n      const platformProps = Platform.select({\n        web: {},\n        default: { collapsable: false },\n      });\n      return (\n        <Component {...props} ref={this._setComponentRef} {...platformProps} />\n      );\n    }\n  }\n\n  AnimatedComponent.displayName = `AnimatedComponent(${\n    Component.displayName || Component.name || 'Component'\n  })`;\n\n  return React.forwardRef<Component>((props, ref) => {\n    return (\n      <AnimatedComponent\n        {...props}\n        {...(ref === null ? null : { forwardedRef: ref })}\n      />\n    );\n  });\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}