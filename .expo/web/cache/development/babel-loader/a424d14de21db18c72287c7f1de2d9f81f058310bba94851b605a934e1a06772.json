{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from \"react\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { Button } from \"react-native-elements\";\nimport { LinearGradient } from \"expo-linear-gradient\";\nimport { useSession } from \"../../hooks/useSession\";\nimport { supabase } from \"../../config/supabaseConfig\";\nimport ProfilPictureUplaod from \"../../components/ProfileImage/ProfilPictureUplaod\";\nimport { COLORS, SIZES, images } from \"../../constants\";\nimport CTAButton from \"../../components/Basics/CTAButton/CTAButton\";\nimport Spacer from \"../../components/Basics/Spacer/spacer\";\nimport Background from \"../../components/Basics/Image/Background\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nexport default function Profile() {\n  var _useSession = useSession(),\n    session = _useSession.session;\n  console.log(session.user.user_metadata.username);\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    profile = _useState2[0],\n    setProfile = _useState2[1];\n  function goToEditProfile() {}\n  useEffect(function () {\n    var fetchProfile = function () {\n      var _ref = _asyncToGenerator(function* () {\n        try {\n          var _yield$supabase$from$ = yield supabase.from(\"profiles\").select(\"username\").eq(\"id\", session.user.id).single(),\n            data = _yield$supabase$from$.data,\n            error = _yield$supabase$from$.error;\n          if (error) {\n            console.error(\"Error fetching profile:\", error.message);\n            return;\n          }\n          setProfile(data);\n        } catch (error) {\n          console.error(\"Error fetching profile:\", error.message);\n        }\n      });\n      return function fetchProfile() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    fetchProfile();\n  }, [session]);\n  if (!session || !session.user) {\n    console.warn(\"Session or user not available:\", session);\n    return null;\n  }\n  var user = session.user;\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Background, {\n      src: images.Background,\n      style: styles.backgroundImage\n    }), _jsxs(View, {\n      style: styles.wrapper,\n      children: [_jsx(ProfilPictureUplaod, {\n        dimension: 150\n      }), _jsx(View, {\n        style: styles.profileInfo,\n        children: profile && _jsxs(_Fragment, {\n          children: [_jsxs(Text, {\n            style: styles.usernameText,\n            children: [\"Username: \", profile.username]\n          }), _jsx(Spacer, {\n            vertical: 40,\n            horizontal: 0,\n            children: _jsxs(View, {\n              style: styles.containerInfo__user,\n              children: [_jsxs(View, {\n                style: styles.containerInfo__user__grid,\n                children: [_jsx(Text, {\n                  style: styles.numberText,\n                  children: \"2\"\n                }), _jsx(Text, {\n                  style: styles.statusText,\n                  children: \"Event Created\"\n                })]\n              }), _jsxs(View, {\n                style: styles.containerInfo__user__grid,\n                children: [_jsx(Text, {\n                  style: styles.numberText,\n                  children: \"3\"\n                }), _jsx(Text, {\n                  style: styles.statusText,\n                  children: \"Event Attending\"\n                })]\n              })]\n            })\n          })]\n        })\n      }), _jsx(CTAButton, {\n        title: \"Edit Profile\",\n        onPress: goToEditProfile,\n        variant: \"primary\",\n        height: 60,\n        width: 300\n      }), _jsx(Button, {\n        title: \"Sign Out\",\n        onPress: function onPress() {\n          return supabase.auth.signOut();\n        },\n        buttonStyle: styles.signOutButton\n      })]\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\"\n  },\n  backgroundImage: {\n    flex: 1,\n    resizeMode: \"cover\",\n    position: \"absolute\",\n    width: \"100%\",\n    height: \"100%\"\n  },\n  containerInfo__user: {\n    flexDirection: \"row\",\n    justifyContent: \"space-around\",\n    gap: 60\n  },\n  containerInfo__user__grid: {\n    alignItems: \"center\"\n  },\n  numberText: {\n    fontSize: 18,\n    fontWeight: \"bold\",\n    color: COLORS.fontColour\n  },\n  statusText: {\n    fontSize: 18,\n    color: COLORS.fontColour\n  },\n  wrapper: {\n    width: \"100%\",\n    height: \"100%\",\n    alignItems: \"center\",\n    paddingTop: 30\n  },\n  background: {\n    position: \"absolute\",\n    left: 0,\n    right: 0,\n    top: 0,\n    height: \"100%\"\n  },\n  profileInfo: {\n    alignItems: \"center\"\n  },\n  usernameText: {\n    fontSize: SIZES.medium,\n    color: COLORS.fontColour\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","Text","StyleSheet","View","Button","LinearGradient","useSession","supabase","ProfilPictureUplaod","COLORS","SIZES","images","CTAButton","Spacer","Background","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Profile","_useSession","session","console","log","user","user_metadata","username","_useState","_useState2","_slicedToArray","profile","setProfile","goToEditProfile","fetchProfile","_ref","_asyncToGenerator","_yield$supabase$from$","from","select","eq","id","single","data","error","message","apply","arguments","warn","style","styles","container","children","src","backgroundImage","wrapper","dimension","profileInfo","usernameText","vertical","horizontal","containerInfo__user","containerInfo__user__grid","numberText","statusText","title","onPress","variant","height","width","auth","signOut","buttonStyle","signOutButton","create","flex","alignItems","resizeMode","position","flexDirection","justifyContent","gap","fontSize","fontWeight","color","fontColour","paddingTop","background","left","right","top","medium"],"sources":["D:/Moco/PartyPilot/src/screens/Profile/Profile.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Text, StyleSheet, View } from \"react-native\";\r\nimport { Button } from \"react-native-elements\";\r\nimport { LinearGradient } from \"expo-linear-gradient\";\r\nimport { useSession } from \"../../hooks/useSession\";\r\nimport { supabase } from \"../../config/supabaseConfig\";\r\n\r\nimport ProfilPictureUplaod from \"../../components/ProfileImage/ProfilPictureUplaod\";\r\nimport { COLORS, SIZES, images } from \"../../constants\";\r\nimport CTAButton from \"../../components/Basics/CTAButton/CTAButton\";\r\nimport Spacer from \"../../components/Basics/Spacer/spacer\";\r\nimport Background from \"../../components/Basics/Image/Background\";\r\n\r\nexport default function Profile() {\r\n  const { session } = useSession();\r\n  console.log(session.user.user_metadata.username);\r\n  const [profile, setProfile] = useState(null);\r\n  function goToEditProfile() {}\r\n  useEffect(() => {\r\n    const fetchProfile = async () => {\r\n      try {\r\n        const { data, error } = await supabase\r\n          .from(\"profiles\")\r\n          .select(\"username\")\r\n          .eq(\"id\", session.user.id)\r\n          .single();\r\n\r\n        if (error) {\r\n          console.error(\"Error fetching profile:\", error.message);\r\n          return;\r\n        }\r\n\r\n        setProfile(data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching profile:\", error.message);\r\n      }\r\n    };\r\n\r\n    fetchProfile();\r\n  }, [session]);\r\n\r\n  if (!session || !session.user) {\r\n    console.warn(\"Session or user not available:\", session);\r\n    return null;\r\n  }\r\n\r\n  const { user } = session;\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <Background src={images.Background} style={styles.backgroundImage} />\r\n\r\n      {/* <LinearGradient\r\n        colors={[COLORS.heroColour, \"black\"]}\r\n        style={styles.background}\r\n      ></LinearGradient> */}\r\n      <View style={styles.wrapper}>\r\n        <ProfilPictureUplaod dimension={150} />\r\n        <View style={styles.profileInfo}>\r\n          {profile && (\r\n            <>\r\n              <Text style={styles.usernameText}>\r\n                Username: {profile.username}\r\n              </Text>\r\n              <Spacer vertical={40} horizontal={0}>\r\n                <View style={styles.containerInfo__user}>\r\n                  <View style={styles.containerInfo__user__grid}>\r\n                    <Text style={styles.numberText}>\r\n                      2{/* {profile.eventsCreated} */}\r\n                    </Text>\r\n                    <Text style={styles.statusText}>Event Created</Text>\r\n                  </View>\r\n\r\n                  <View style={styles.containerInfo__user__grid}>\r\n                    <Text style={styles.numberText}>\r\n                      3{/* {profile.eventsAttending} */}\r\n                    </Text>\r\n                    <Text style={styles.statusText}>Event Attending</Text>\r\n                  </View>\r\n                </View>\r\n              </Spacer>\r\n            </>\r\n          )}\r\n        </View>\r\n        <CTAButton\r\n          title={\"Edit Profile\"}\r\n          onPress={goToEditProfile}\r\n          variant={\"primary\"}\r\n          height={60}\r\n          width={300}\r\n        />\r\n        <Button\r\n          title=\"Sign Out\"\r\n          onPress={() => supabase.auth.signOut()}\r\n          buttonStyle={styles.signOutButton}\r\n        />\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    alignItems: \"center\",\r\n  },\r\n  backgroundImage: {\r\n    flex: 1,\r\n    resizeMode: \"cover\",\r\n    position: \"absolute\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n  },\r\n  containerInfo__user: {\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-around\",\r\n    gap: 60,\r\n  },\r\n  containerInfo__user__grid: {\r\n    alignItems: \"center\",\r\n  },\r\n  numberText: {\r\n    fontSize: 18,\r\n    fontWeight: \"bold\",\r\n    color: COLORS.fontColour,\r\n  },\r\n  statusText: {\r\n    fontSize: 18,\r\n    color: COLORS.fontColour,\r\n  },\r\n\r\n  wrapper: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    alignItems: \"center\",\r\n    paddingTop: 30,\r\n  },\r\n  background: {\r\n    position: \"absolute\",\r\n    left: 0,\r\n    right: 0,\r\n    top: 0,\r\n    height: \"100%\",\r\n  },\r\n  profileInfo: {\r\n    alignItems: \"center\",\r\n  },\r\n  usernameText: {\r\n    fontSize: SIZES.medium,\r\n    color: COLORS.fontColour,\r\n  },\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}